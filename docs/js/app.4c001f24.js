(function(t){function e(e){for(var r,l,s=e[0],o=e[1],c=e[2],d=0,m=[];d<s.length;d++)l=s[d],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&m.push(i[l][0]),i[l]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],r=!0,s=1;s<a.length;s++){var o=a[s];0!==i[o]&&(r=!1)}r&&(n.splice(e--,1),t=l(l.s=a[0]))}return t}var r={},i={app:0},n=[];function l(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=t,l.c=r,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)l.d(a,r,function(e){return t[e]}.bind(null,r));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/ccu-gcau-1/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=o;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"3a5f":function(t,e,a){"use strict";a("95ad")},"450c":function(t,e,a){},"4cde":function(t,e,a){"use strict";a("d937")},"56d7":function(t,e,a){"use strict";a.r(e),a.d(e,"initVue",(function(){return Ra}));a("cadf"),a("551c"),a("f751"),a("097d");var r=a("2b0e"),i=(a("744f"),a("6c7b"),a("7514"),a("20d6"),a("e956"),a("1c4c"),a("6762"),a("e804"),a("d04f"),a("c8ce"),a("217b"),a("7f7f"),a("f400"),a("7f25"),a("536b"),a("d9ab"),a("f9ab"),a("32d7"),a("25c9"),a("9f3c"),a("042e"),a("c7c6"),a("f4ff"),a("049f"),a("7872"),a("a69f"),a("0b21"),a("6c1a"),a("c7c62"),a("84b4"),a("c5f6"),a("2e37"),a("fca0"),a("7cdf"),a("ee1d"),a("b1b1"),a("87f3"),a("9278"),a("5df2"),a("04ff"),a("4504"),a("fee7"),a("ffc1"),a("0d6d"),a("9986"),a("8e6e"),a("25db"),a("e4f7"),a("b9a1"),a("64d5"),a("9aea"),a("06db"),a("db97"),a("66c8"),a("57f0"),a("165b"),a("456d"),a("cf6a"),a("8615"),a("df1b"),a("2397"),a("88ca"),a("ba16"),a("d185"),a("ebde"),a("2d34"),a("f6b3"),a("2251"),a("c698"),a("a19f"),a("9253"),a("9275"),a("3b2b"),a("3846"),a("4917"),a("a481"),a("28a5"),a("386d"),a("6b54"),a("4f7f"),a("8a81"),a("ac4d"),a("8449"),a("9c86"),a("fa83"),a("48c0"),a("a032"),a("aef6"),a("d263"),a("6c37"),a("9ec8"),a("5695"),a("2fdb"),a("d0b0"),a("5df3"),a("b54a"),a("f576"),a("ed50"),a("788d"),a("14b9"),a("f386"),a("f559"),a("1448"),a("673e"),a("242a"),a("23be"),a("7c0e"),a("c66f"),a("b05c"),a("34ef"),a("6aa2"),a("15ac"),a("af56"),a("b6e4"),a("9c29"),a("63d9"),a("4dda"),a("10ad"),a("c02b"),a("4795"),a("130f"),a("ac6a"),a("96cf"),a("bb71")),n=(a("da64"),a("c0a4")),l=a.n(n);r["a"].use(i["a"],{theme:{primary:l.a.purple,secondary:l.a.blue,accent:l.a.shades.black,error:l.a.red.accent3}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-content",[a("main-contents")],1)],1)},o=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{class:{"py-0":t.isScrolledDown},attrs:{"px-0":""}},[a("v-layout",{attrs:{"justify-center":""}},[a("v-flex",{attrs:{xs12:"",lg11:"",xl7:""}},[a("div",{ref:"header",class:{headerMargin:!t.isScrolledDown}},[a("v-toolbar",{staticClass:"lime lighten-5"},[a("v-toolbar-title",{staticClass:"headline text-uppercase"},[a("span",[t._v("CCU>GCAU")]),a("span",{staticClass:"font-weight-light"},[t._v("Config. translator")]),a("span",{staticClass:"caption text-lowercase"},[t._v(" - v"+t._s(t.applicationVersion))])])],1),a("v-container",{staticClass:"lime lighten-5",class:{hide:t.isScrolledDown},attrs:{"pa-0":""}},[a("v-layout",{attrs:{"justify-center":""}},[a("v-flex",{attrs:{xs2:""}},[a("v-btn",{attrs:{small:""},on:{click:function(e){return t.$refs.inputTds.click()}}},[t._v("Load")]),a("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"inputTds",attrs:{type:"file",accept:".tdsa, .tdsn, .P0, .APP"},on:{change:t.loadTds}})],1),a("v-flex",{attrs:{xs2:""}},[a("v-btn",{attrs:{small:""},on:{click:function(e){return t.$refs.inputAgc.click()}}},[t._v("Load AGC")]),a("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"inputAgc",attrs:{type:"file",accept:".agc"},on:{change:t.loadAgc}})],1),a("v-flex",{attrs:{xs2:""}},[a("v-btn",{attrs:{small:"",disabled:null===t.agcFileName},on:{click:function(e){return t.saveOutputFile()}}},[t._v("Download AGC")])],1),a("v-flex",{attrs:{xs2:""}},[a("v-btn",{attrs:{small:""},on:{click:function(e){return t.saveTdsFile()}}},[t._v("Download TDS")])],1)],1)],1)],1),a("div",{ref:"tabBar",class:{tabBarFixed:t.tabBarFixed},style:{left:t.tabBarDynamicLeftOffset+"px"}},[a("v-tabs",{on:{change:t.menuItemSelect}},[a("v-tab",[t._v("Admin")]),a("v-tab",[t._v("System")]),a("v-tab",[t._v("Battery")]),a("v-tab",[t._v("Alarms")])],1)],1),a("div",{class:{hide:!t.tabBarFixed}},[a("v-tabs",[a("v-tab"),a("v-tab"),a("v-tab")],1)],1),a("div",{ref:"contentFrame"},[a("v-tabs",{attrs:{height:"0"},model:{value:t.menuItemSelected,callback:function(e){t.menuItemSelected=e},expression:"menuItemSelected"}},[a("v-tab"),a("v-tab"),a("v-tab"),a("v-tab"),a("v-tab-item",[a("vyw-admin",{attrs:{tdsFileName:t.tdsFileName,contentsAltered:t.contentsAltered}})],1),a("v-tab-item",[a("vyw-system")],1),a("v-tab-item",[a("vyw-battery")],1),a("v-tab-item",[a("vyw-alarms")],1)],1),"development"===t.nodeEnv?a("span",[a("vyw-react-test")],1):t._e()],1)]),a("v-dialog",{attrs:{"max-width":"400"},model:{value:t.agcFileErrorDialog,callback:function(e){t.agcFileErrorDialog=e},expression:"agcFileErrorDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("AGC File Error")]),a("v-card-text",[t._v(t._s(t.agcErrorDetails))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(e){t.agcFileErrorDialog=!1}}},[t._v("OK")]),a("v-spacer")],1)],1)],1)],1)],1)},u=[],d=a("a92a"),m=a("aeb1"),h=a.n(m),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-container",{attrs:{"pt-3":""}},[a("v-layout",{attrs:{"text-xs-center":"","align-content-center":"",wrap:""}},[a("v-flex",{attrs:{"px-1":""}},[a("v-container",{attrs:{"pa-0":""}},[a("v-layout",{attrs:{column:""}},[a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.tdsFileName.length>0,expression:"tdsFileName.length>0"}],attrs:{"pb-3":"","text-xs-left":"","pl-0":""}},[a("v-card",{staticClass:"black--text",attrs:{color:"blue-grey lighten-4"}},[a("v-card-text",{staticClass:"pl-2 elevation-6"},[a("span",{staticClass:"font-italic"},[t._v("Imported file:")]),t._v(" "),a("span",{staticClass:"body-2 blue-grey--text text-darken-4"},[t._v(t._s(t.tdsFileName))]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.contentsAltered,expression:"contentsAltered"}]},[t._v(" "),a("v-icon",{attrs:{small:""}},[t._v("star")]),a("v-icon",{attrs:{small:""}},[t._v("star")])],1)])],1)],1),a("v-flex",[a("vyw-text-input",{attrs:{"data-key":"Text_Nom",label:"Name",hint:"Project manager"}})],1),a("v-flex",[a("vyw-text-input",{attrs:{"data-key":"Text_Origine",label:"Origin"}})],1),a("v-flex",[a("vyw-text-input",{attrs:{"data-key":"Text_Devis",label:"Quotation"}})],1),a("v-flex",[a("vyw-text-input",{attrs:{"data-key":"Text_Client",label:"Customer"}})],1),a("v-flex",[a("div",{staticClass:"d-flex"},[a("div",[a("vyw-switch",{attrs:{"data-key":"Check_APP",labels:["Not approved","Approved"]}})],1),a("div",[a("vyw-text-input",{attrs:{"data-key":"Edit_CONTROL",label:"Approver"}})],1)])])],1)],1)],1),a("v-flex",{attrs:{xs12:"",sm6:"","px-1":""}},[a("v-container",{attrs:{"pa-0":""}},[a("v-layout",{attrs:{column:""}},[a("v-flex",[a("v-flex",[a("vyw-text-input",{attrs:{"data-key":"Text_Commande",label:"Order"}})],1),a("v-flex",[a("vyw-text-input",{attrs:{"data-key":"Text_Projet",label:"Project"}})],1),a("v-flex",[a("vyw-text-input",{attrs:{"data-key":"Text_ClientFinal",label:"End user"}})],1),a("v-flex",[a("vyw-text-input",{attrs:{"data-key":"SystemId",label:"Identification number"}})],1),a("vyw-text-area",{attrs:{"data-key":"Edit_COMMENT",label:"Notes",hint:"project notes/comments"}})],1)],1)],1)],1)],1)],1)],1)],1)},f=[],v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-textarea",{attrs:{label:t.label,hint:t.hint,"no-resize":!0,box:""},on:{change:t.changed},model:{value:t.editedValue,callback:function(e){t.editedValue=e},expression:"editedValue"}})},b=[],y=a("bc3a"),_=a.n(y),C=a("1b3b"),g=a.n(C),L=a("2909"),x=a("53ca");function N(t,e){for(var a=0;a<e.length;a++)if(e[a]===t)return e.splice(a,1),!0;return!1}function D(t,e){var a=Math.pow(10,e);return(Math.round(a*t)/a).toString()}function T(t,e){var a="string"===typeof t?parseFloat(t):t;switch(isNaN(a)&&(a=0),Object(x["a"])(e)){case"number":a*=e;break;case"string":a*=parseFloat(e);break;case"function":a=e(a);break}return Math.round(a).toString()}function w(t,e){return"function"!==typeof e&&(e=function(t){return t}),Object(L["a"])(Array(t)).map((function(t,a){return e(a)}))}function S(t,e,a){if("number"!==typeof e||"string"!==typeof a||!1===/^[0-9A-F]+$/.test(a))return null;var r=a.length-Math.floor(e/4)-1;if(r<0||r>=a.length)return null;var i=1<<e%4,n=parseInt(a.substring(r,r+1),16)&~i;return t&&(n|=i),"".concat(a.substring(0,r)).concat(n.toString(16).toUpperCase()).concat(a.substring(r+1))}function E(t,e){t=Math.round(t),-1===e.indexOf(t)&&(e.push(t),e.sort((function(t,e){return parseInt(t,10)-parseInt(e,10)})))}function V(t){for(var e,a="",r=!1,i=0;i<t.length;i++)0===i?a=t[i].toString():t[i]===e+1?(!1===r&&(a+="~",r=!0),i===t.length-1&&(a+=t[i].toString())):r?(a+="".concat(e,";").concat(t[i]),r=!1):a+=";".concat(t[i]),e=t[i];return a}function F(){var t=new ArrayBuffer(4),e=new Float32Array(t);e[0]=1024.25;for(var a=new Uint8Array(t),r={68:3,128:2,8:1,0:0},i=new Array(4),n=0;n<4;n++)i[n]=r[a[n]];return i}var A=F();function O(t,e,a){return e>=Math.min(t,a)&&e<=Math.max(t,a)}var I="0.9.2",M={},R={},k={},P=new g.a,H=[],B=new r["a"]({methods:{dataChanged:function(t){this.$emit("item-should-update",t)}}}),j={languages:["English","Dutch","Spanish","Italian","Finnish","Swedish","French","German","Slovakian","USA","Norwegian","Portuguese CCU_N","Free1 CCU_N","Free2 CCU_N"],relayNumbers:w(17,(function(t){return t.toString()})),hrPeriodicTimes:["None","1","6","12"],spareInputs:["no","active low","active high"],commissioningInput:["no","active low","active high","allowed low","allowed high"]},U=!1;function $(){!1===U&&(Object.keys(M).forEach((function(t){k[t]=null,P.addProperty(k,t);var e=M[t].SetupParam;!1===e.startsWith("x--")&&e!==t&&(P.addProperty(k,t,e),R[e]=t,H.push(e)),H.push(t)})),U=!0)}var K={testKey:"Text_Projet",testValue:"???",hasLedBox:null,duplicatedRelays:null,earthFaultThreshold:null,shutdownThermostat:null,forcedFloatInput:null,highrateInput:null,commissioningInput:null,alarmAcknowledgmentInput:null,displayAmbientTemperature:null,displayBatteryTemperature:null};function Y(){function t(t,e){P["meta_".concat(t)]=e,P.$watchers["meta_".concat(t)].push(z)}t("hasLedBox","false"),t("duplicatedRelays","false"),t("earthFaultThreshold","250"),t("shutdownThermostat","false"),t("forcedFloatInput",j.spareInputs[0]),t("highrateInput",j.spareInputs[0]),t("commissioningInput",j.commissioningInput[0]),t("alarmAcknowledgmentInput",j.spareInputs[0]),t("displayAmbientTemperature","false"),t("displayBatteryTemperature","false")}var G={fullFileName:"",shortFileName:"",extension:""};function W(t){if("string"===typeof t){var e=/^(.*)(\..*)$/.exec(t);null!==e?(G.fullFileName=e[0],G.shortFileName=e[1],G.extension=e[2]):(G.fullFileName=t,G.shortFileName=t,G.extension="")}return G}Object.keys(K).forEach((function(t){P.addProperty(K,t,"meta_".concat(t))})),Y();var X=/[ ]*{meta}\n((?:.|\n)*){\/meta}\n?/;function q(){var t=P.Edit_COMMENT.match(X);if(null!=t){var e=t[1].split("\n");e.forEach((function(t){var e=t.match(/\$(\S+)\s*=\s="(.*)"/);null!=e&&(P["meta_".concat(e[1])]=e[2])}))}return null!==t}function z(){if("string"===typeof P.Edit_COMMENT){var t=P.Edit_COMMENT.replace(/[ ]*{meta}(.|\n)*{\/meta}\n?/,""),e=t.indexOf("\n")===t.length-1;P.Edit_COMMENT="".concat(t).concat(e?"":"\n",'{meta}\n $hasLedBox = "').concat(P.meta_hasLedBox,'"\n $duplicatedRelays = "').concat(P.meta_duplicatedRelays,'"\n $earthFaultThreshold = "').concat(P.meta_earthFaultThreshold,'"\n $shutdownThermostat = "').concat(P.meta_shutdownThermostat,'"\n $forcedFloatInput = "').concat(P.meta_forcedFloatInput,'"\n $highrateInput = "').concat(P.meta_highrateInput,'"\n $commissioningInput = "').concat(P.meta_commissioningInput,'"\n $alarmAcknowledgmentInput = "').concat(P.meta_alarmAcknowledgmentInput,'"\n $displayAmbientTemperature = "').concat(P.meta_displayAmbientTemperature,'"\n $displayBatteryTemperature = "').concat(P.meta_displayBatteryTemperature,'"\n{/meta}')}}var Q=[];function J(){z();var t="<Projet>\r\n";return Q.forEach((function(e){t+="  <Objet>\r\n",t+="    <Label>".concat(e,"</Label>\r\n");var a=P[e];if(e.startsWith("Check_")&&(a="true"===a?"1":"0"),"Edit_TFB_TEMPS"===e||"Edit_TEOTDFL_TEMPS"===e)try{var r=Math.round(parseFloat(a,10)/60);a=r.toString()}catch(l){}if("float"===M[e].P0Type.toLowerCase()||"float"===M[e].SetupType.toLowerCase()){if(a=parseFloat(a),isNaN(a))a="0.0";else{var i=1e5;a=(Math.round(a*i)/i).toString()}var n=a.match(/\s*(\d*).(\d*)\s*/);n&&(""===n[1]&&(n[1]="0"),""===n[2]&&(n[2]="0"),a="".concat(n[1],",").concat(n[2]))}a=a.replace(/\n/g,"\r\n"),t+="    <Donnee>".concat(a,"</Donnee>\r\n"),t+="  </Objet>\r\n"})),t+="</Projet>\r\n",t}function Z(t){var e,a,r,i=t.toString().split("\n"),n=/<Label>(.*)<\/Label>/i,l=/<Donnee>(.*)<\/Donnee>/i,s=/<Donnee>(.*)/i,o=/(.*)<\/Donnee>/i,c=/\s*(\d*),(\d*)\s*/,u=/\s*$/,d=0===Q.length;Y(),i.forEach((function(t){var i=t.replace(u,""),m=i.match(n);m&&(e=m[1],d&&Q.push(e),r=!1);var h=i.match(l);if(h){if(a=h[1],"Edit_TFB_TEMPS"===e||"Edit_TEOTDFL_TEMPS"===e)try{var p=60*parseInt(a,10);a=p.toString()}catch(y){}if(e.startsWith("Check_")&&"true"!==a&&"false"!==a&&(a="1"===a?"true":"false"),"float"===M[e].P0Type.toLowerCase()||"float"===M[e].SetupType.toLowerCase()){var f=a.match(c);f&&(a="".concat(f[1],".").concat(f[2]))}P[e]=a}else{var v=i.match(s);if(v)a=v[1],r=!0;else if(r){var b=i.match(o);b?(r=!1,P[e]="".concat(a,"\n").concat(b[1])):a="".concat(a,"\n").concat(i)}}})),q()||z()}var tt={struct:null,lines:null,error:null,refLines:null};function et(t){try{tt.lines=t.split(/\r?\n/),tt.refLines=t.split(/\r?\n/),tt.struct=Object(d["analyzeAgcFile"])(tt.lines),tt.error=null}catch(e){tt.lines=null,tt.struct=null,tt.error=e}}_.a.get("".concat("/ccu-gcau-1/","/TDSP0APPMap.tsv")).then((function(t){for(var e,a,r=t.data,i=r.split("\n"),n=i[0].replace(/\r$/,"").split("\t"),l=1;l<i.length;l++){a={};for(var s=i[l].replace(/\r$/,"").split("\t"),o=0;o<n.length;o++)a[n[o]]=s[o],"TDSTag"===n[o]&&(e=s[o]);e.length>0&&!1===e.startsWith("x--")&&(M[e]=a)}$(),Ra(),_.a.get("".concat("/ccu-gcau-1/","/template.tdsa")).then((function(t){Z(t.data)}))})).catch((function(t){document.getElementById("app").innerHTML="panic: cannot initialize app from definition files like TDSP0APPMap.tsv or template.tdsa",console.log(t)}));var at={English:0,Dutch:1,Spanish:2,Italian:3,Finnish:4,Swedish:5,French:6,German:7,Slovakian:8,USA:9,Norwegian:10,Portuguese:11,"Free 1":12,"Free 2":13};function rt(t){P.Option_6_elemnt="false",P.Option_3_elemnt="false",P.Option_2_elemnt="false",P.Option_1_elemnt="true",P.NrOfCells=t,P.Edit_QDB_NDB=t,P.Option_DEF_POST="0"===P.ChrgTimerMode?"1":"0",P.Text_Projet="".concat(G.shortFileName),P.Combo_RN_UDC=P.UdcNom,P.Edit_DC_VMAXDLT=P.HC_UpperLimit,P.Edit_DC_VMINDLT=P.LC_LowerLimit;var e=parseFloat(P.UflPerCell);"true"===P.VoApplEnable?P.Combo_DEF_TDB="VO":O(1.35,e,1.389)?P.Combo_DEF_TDB="Ni CD (SPH)":O(1.39,e,1.4049)?P.Combo_DEF_TDB="Ni CD (SBH-SBM)":O(1.405,e,1.4149)?P.Combo_DEF_TDB="Ni CD (SLM)":O(1.415,e,1.43)?P.Combo_DEF_TDB="Ni CD (SBL)":O(2.2,e,2.249)?P.Combo_DEF_TDB="Open lead acid":O(2.25,e,2.35)?P.Combo_DEF_TDB="Sealed lead acid":P.Combo_DEF_TDB="None",P.Edit_BattName="--",P.Edit_COMMENT="Import from ".concat(G.extension," file type"),P.Edit_ENV_TA="25",P.Edit_ENV_ALT="0"}function it(){P.BattTestEnable="false",P.AutoTestPeriod="12",P.DischrgPercent="0",P.TestEndVoltage="0",P.EndVoltageAlarm="0"}function nt(t,e){for(var a=new ArrayBuffer(4),r=new Uint8Array(a),i=0;i<4;i++)r[A[i]]=t[e+i];var n=new Float32Array(a);return n[0]}function lt(t){_.a.get("".concat("/ccu-gcau-1/","/template.tdsa")).then((function(e){var a;Z(e.data);var r=new Uint8Array(t),i=600===r.length?"P0Offset":"P0V1Offset";for(var n in"P0V1Offset"===i&&it(),M){var l=M[n],s=/^(?:(.+):(.*))|(?:.*)$/.exec(l.P0Type),o=parseInt(l[i],10);if(null!==s&&o<r.length){var c=s[void 0===s[1]?0:1],u=s[2],d=void 0===s[2]?NaN:parseInt(u,10),m=function(t){return r[t]+256*r[t+1]},h=null,p=void 0;switch(c){case"byte":h=r[o].toString();break;case"bool16":h=m(o)?"true":"false";break;case"word":h=m(o).toString();break;case"word:bf":h=m(o)&1<<d?"true":"false";break;case"dword":p="hm"===u?60*m(o)+m(o+2):m(o)+65536*m(o+2),"h:3600:s"===l.TDSUnitAndScale?p=Math.round(p/3600):"mn:60:s"===l.TDSUnitAndScale&&(p*=60),h=p.toString();break;case"float":h=nt(r,o).toString();break;case"string":h="";for(var f=0;f<d;f++){var v=r[o+f];if(!(v>0))break;h+=String.fromCharCode(v)}break}null!=h&&(":language"===l.TDSUnitAndScale&&(h=j.languages[parseInt(h,10)]),"months:periodicHighRate"===l.TDSUnitAndScale&&(h=j.hrPeriodicTimes[parseInt(h,10)]),P[l.SetupParam]=h,"NrOfCells"===l.SetupParam&&(a=h))}}rt(a)}))}function st(t,e){var a="string"===typeof t.AppType?t.AppType.toLowerCase():null;if(null!==a){if("Boolean"===t.SetupType)return"0"===e?"false":"true";if(a.startsWith("integer")||a.startsWith("float")){var r=1;"integer:s2h"===a&&(r=1/3600);var i=parseFloat(e)*r;return isNaN(i)?e:a.startsWith("integer")?Math.round(i).toString():i.toString()}}return e}function ot(t){switch(t.toLowerCase()){default:return"None";case"1":case"one_month":return"1";case"2":case"six_months":return"6";case"3":case"one_year":return"12"}}function ct(t){switch(t.toLowerCase()){default:return"0";case"direct":case"1":return"1"}}function ut(t){_.a.get("".concat("/ccu-gcau-1/","/template.tdsa")).then((function(e){Z(e.data);var a="1",r=t.toString().split("\n"),i=/^\W*(\d+):\W+(.+)\W{2,}(.*)\r?$/;r.forEach((function(t,e){var r=i.exec(t);if(null!==r){var n=r[1],l=r[2].trimRight(),s=r[3];for(var o in M)if(M[o].AppNum===n){var c=M[o];switch(l.toLowerCase()){case"language":P.Language=j.languages[at[s]];break;case"periodichr":P.PeriodicHr=ot(s);break;case"chrgtimermode":P.ChrgTimerMode=ct(s);break;case"nrofcells":a=s;default:P[c.SetupParam.startsWith("x--")?c.TDSTag:c.SetupParam]=st(c,s);break}break}}})),rt(a)}))}var dt={created:function(){var t=this.reactOnNewData.bind(this);P.$watchers[this.dataKey].push(t);var e=R[this.dataKey];void 0!==e&&P.$watchers[e].push(t),this.reactOnNewData(P[this.dataKey])},beforeDestroy:function(){var t=this.reactOnNewData.bind(this),e=P.$watchers[this.dataKey];N(t,e);var a=R[this.dataKey];if(void 0!==a){var r=P.$watchers[a];N(t,r)}}},mt={created:function(){var t=this.updateMiscStuff.bind(this);this.reactSources().forEach((function(e){P.$watchers[e].push(t);var a=R[e];void 0!==a&&P.$watchers[a].push(t)})),this.updateMiscStuff()},beforeDestroy:function(){var t=this.updateMiscStuff.bind(this);this.reactSources().forEach((function(e){N(t,P.$watchers[e]);var a=R[e];void 0!=a&&N(t,P.$watchers[a])}))}},ht={methods:{defaultOnChanged:function(t){B.dataChanged(t)}}},pt={props:{dataKey:{type:String,required:!0},label:String,hint:String,onChanged:{type:Function}},data:function(){return{editedValue:void 0}},methods:{changed:function(){var t={dataKey:this.dataKey,value:this.editedValue};"function"===typeof this.onChanged?this.onChanged(t):this.defaultOnChanged(t)},reactOnNewData:function(t){this.editedValue=t}},mixins:[dt,ht]},ft=pt,vt=a("2877"),bt=a("6544"),yt=a.n(bt),_t=a("a844"),Ct=Object(vt["a"])(ft,v,b,!1,null,"4700036a",null),gt=Ct.exports;yt()(Ct,{VTextarea:_t["a"]});var Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-text-field",{attrs:{label:t.label,box:"",suffix:t.suffix,error:t.error,"error-messages":t.errorMessages,hint:t.hint,counter:t.maxLength,maxLength:t.maxLength,mask:t.mask},on:{change:t.changed,input:t.input},model:{value:t.editedValue,callback:function(e){t.editedValue=e},expression:"editedValue"}})},xt=[],Nt={props:{dataKey:{type:String,required:!0},filter:Function,maxChars:[Number,String],mask:String,label:String,suffix:String,hint:String,onChanged:{type:Function}},data:function(){return{editedValue:void 0,lastCorrectValue:void 0,initialValue:void 0,error:!1,errorMessages:[]}},computed:{maxLength:function(){if(!isNaN(this.maxChars)){var t=Math.round(Number(this.maxChars));return t>0?t:void 0}},test:function(){return"function"===typeof this.filter?this.filter:function(){return!1}}},methods:{input:function(){var t=this.test(this.editedValue);!1===t?(this.lastCorrectValue=this.editedValue,this.error=!1,this.errorMessages=[]):(this.error=!0,this.errorMessages=[t.errorMessage])},changed:function(){var t=this.editedValue,e=this.test(t);!1!==e&&("undefined"!==typeof e.filteredValue?t=e.filteredValue:"undefined"!==typeof this.lastCorrectValue&&(t=this.initialValue),this.editedValue=t,this.input());var a={dataKey:this.dataKey,value:t};"function"===typeof this.onChanged?this.onChanged(a):this.defaultOnChanged(a)},reactOnNewData:function(t){this.initialValue=t,this.editedValue=t}},mixins:[dt,ht]},Dt=Nt,Tt=a("2677"),wt=Object(vt["a"])(Dt,Lt,xt,!1,null,"0984e623",null),St=wt.exports;yt()(wt,{VTextField:Tt["a"]});var Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-switch",{attrs:{label:t.label,box:"",hint:t.hint,color:t.colorWhenOn},on:{change:t.changed},model:{value:t.editedValue,callback:function(e){t.editedValue=e},expression:"editedValue"}})},Vt=[],Ft={props:{dataKey:{type:String,required:!0},labels:{type:Array,required:!0,default:function(){return["off","on"]}},hint:String,colorWhenOn:String,onChanged:{type:Function}},data:function(){return{editedValue:void 0,externalType:"boolean"}},computed:{label:function(){return this.labels[this.editedValue?1:0]},typedValue:function(){var t=this.editedValue;switch(this.externalType){case"number":return t?1:0;case"stringLiteral":return t?"true":"false";case"stringNumeric":return t?"1":"0";default:case"boolean":return t}}},methods:{changed:function(){var t={dataKey:this.dataKey,value:this.typedValue};"function"===typeof this.onChanged?this.onChanged(t):this.defaultOnChanged(t)},reactOnNewData:function(t){switch(Object(x["a"])(t)){case"number":this.editedValue=0!==t,this.externalType="number";break;case"string":this.editedValue=-1===["false","0"].indexOf(t.toLowerCase()),this.externalType=isNaN(t)?"stringLiteral":"stringNumeric";break;case"boolean":this.editedValue=t,this.externalType="boolean";break;default:this.editedValue=!1;break}}},mixins:[dt,ht]},At=Ft,Ot=a("b73d"),It=Object(vt["a"])(At,Et,Vt,!1,null,"3d216c73",null),Mt=It.exports;yt()(It,{VSwitch:Ot["a"]});var Rt={props:{tdsFileName:String,contentsAltered:Boolean},components:{VywTextArea:gt,VywTextInput:St,VywSwitch:Mt}},kt=Rt,Pt=a("b0af"),Ht=a("99d9"),Bt=a("a523"),jt=a("0e8f"),Ut=a("132d"),$t=a("a722"),Kt=Object(vt["a"])(kt,p,f,!1,null,"10edc60d",null),Yt=Kt.exports;yt()(Kt,{VCard:Pt["a"],VCardText:Ht["b"],VContainer:Bt["a"],VFlex:jt["a"],VIcon:Ut["a"],VLayout:$t["a"]});var Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{attrs:{"pt-3":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","px-1":"","align-content-center":""}},[a("v-card",[a("v-card-title",{staticClass:"headline blue lighten-4"},[t._v("Hardware configuration")]),a("v-card-text",[a("div",{staticClass:"d-flex"},[a("div",[a("vyw-switch",{attrs:{"data-key":"meta_hasLedBox",labels:["No LED box","LED box"]}})],1),a("div",[a("vyw-switch",{attrs:{"data-key":"meta_duplicatedRelays",labels:["Relays not duplicated","Relays duplicated"]}})],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-numeric-input",{attrs:{"data-key":"meta_earthFaultThreshold",label:"Earth fault threshold",suffix:"Ω/V",bottom:Number(20),top:Number(2e3),hint:"20~2,000"}})],1),a("div",[a("vyw-switch",{attrs:{"data-key":"meta_shutdownThermostat",labels:["No shutdown bridge thermostat (X9.6)","Shutdown bridge thermosat (X9.5)"]}})],1)]),a("div",{staticClass:"d-flex"},[a("div",{staticClass:"pr-1"},[a("vyw-select-input",{attrs:{"data-key":"meta_forcedFloatInput",label:"Forced float (X9.1)","item-list":t.selectChoices.spareInputs}})],1),a("div",[a("vyw-select-input",{attrs:{"data-key":"meta_highrateInput",label:"Highrate (X9.2)","item-list":t.selectChoices.spareInputs}})],1)]),a("div",{staticClass:"d-flex"},[a("div",{staticClass:"pr-1"},[a("vyw-select-input",{attrs:{"data-key":"meta_commissioningInput",label:"Commissioning (X9.3)","item-list":t.selectChoices.commissioningInput}})],1),a("div",[a("vyw-select-input",{attrs:{"data-key":"meta_alarmAcknowledgmentInput",label:"Alarm ack. (X9.4)","item-list":t.selectChoices.spareInputs}})],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-switch",{attrs:{"data-key":"meta_displayAmbientTemperature",labels:["Don't display ambiant temperature on LCD","Display ambiant temperature on LCD"]}})],1),a("div",[a("vyw-switch",{attrs:{"data-key":"meta_displayBatteryTemperature",labels:["Don't display battery temperature on LCD","Display battery temperature on LCD"]}})],1)])])],1),a("v-card",{staticClass:"mt-1"},[a("v-card-title",{staticClass:"headline"},[t._v("Environment")]),a("v-card-text",[a("div",{staticClass:"d-flex"},[a("div",[a("vyw-numeric-input",{attrs:{"data-key":"Edit_ENV_TA",label:"Ambient temperature",suffix:"C",bottom:Number(-30),top:Number(60),hint:"[-30~+60]"}})],1),a("div",[a("vyw-numeric-input",{attrs:{"data-key":"Edit_ENV_ALT",label:"Altitude",suffix:"m",bottom:Number(0),top:Number(5e3),hint:"[0~5,000]"}})],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-numeric-input",{attrs:{"data-key":"Label_Derating_temp",label:"Temperature derating",suffix:"%",bottom:Number(0),top:Number(50),hint:"[0~50]"}})],1),a("div",[a("vyw-numeric-input",{attrs:{"data-key":"Label_Derating_ALT",label:"Altitude derating",suffix:"%",bottom:Number(0),top:Number(50),hint:"[0~50]"}})],1)])])],1),a("v-card",{staticClass:"mt-1"},[a("v-card-title",{staticClass:"headline"},[t._v("Communications")]),a("v-card-text",[a("div",{staticClass:"d-flex"},[a("div",[a("vyw-integer-input",{attrs:{"data-key":"SlaveAddress",label:"Slave number",bottom:Number(1),top:Number(255),hint:"[1~255]"}})],1),a("div",[a("vyw-select-input",{attrs:{"data-key":"Baudrate",label:"Communication velocity (bps)","item-list":t.baudrates,hint:"bauds"}})],1)])])],1),a("v-card",{staticClass:"mt-1"},[a("v-card-title",{staticClass:"headline"},[t._v("Language")]),a("v-card-text",[a("div",{staticClass:"d-flex justify-center"},[a("div",{staticClass:"half"},[a("vyw-select-input",{attrs:{"data-key":"Language",label:"Language","item-list":t.selectChoices.languages,hint:"local language"}})],1)])])],1),a("v-card",{staticClass:"mt-1"},[a("v-card-title",{staticClass:"headline"},[t._v("Nominal settings")]),a("v-card-text",[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"pr-1"},[a("vyw-select-input",{attrs:{"data-key":"Combo_RN_NDP",label:"Number of phases","item-list":["1","3"],hint:"phase(s)"}})],1),a("div",[a("vyw-select-input",{attrs:{"data-key":"Combo_RN_FREQ",label:"Frequency (Hz)","item-list":["50","60"],hint:"Hz"}})],1)]),a("div",{staticClass:"d-flex"},[a("div",{staticClass:"pr-1"},[a("vyw-integer-input",{attrs:{"data-key":"UacNom",label:"AC voltage",bottom:Number(1),top:Number(700),hint:"[1~700]",suffix:"Vac"}})],1),a("div",[a("vyw-integer-input",{attrs:{"data-key":"IdcNom",label:"DC current",bottom:Number(1),top:Number(9999),hint:"[1~9,999]",suffix:"Adc"}})],1)]),a("div",{staticClass:"d-flex"},[a("div",{staticClass:"pr-1"},[a("vyw-select-input",{attrs:{"data-key":"Combo_RN_UDC",label:"DC voltage","item-list":t.dcVoltages,hint:"Vdc"}})],1),a("div",[a("vyw-numeric-input",{attrs:{"data-key":"Edit_RN_CN",label:"AC inrush current",suffix:"A",bottom:Number(0),top:Number(9999),hint:"[0~9,999]"}})],1)])])],1),a("v-card",{staticClass:"mt-1"},[a("v-card-title",{staticClass:"headline"},[t._v("Shunt")]),a("v-card-text",[a("div",{staticClass:"d-flex justify-center"},[a("div",{staticClass:"half"},[a("vyw-numeric-input",{attrs:{"data-key":"RectShuntVal",label:"Rectifier shunt (@ 100 mV)",suffix:"A",bottom:Number(.5),top:Number(9999),hint:"[0.5~9,999]"}})],1)])])],1)],1),a("v-flex",{attrs:{xs12:"",sm6:"","px-1":"","align-content-center":""}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Meter selection")]),a("v-card-text",[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"oneThird"},[a("vyw-switch",{attrs:{"data-key":"AcMeter",labels:["No AC meter","AC meter present"]}})],1),a("div",{staticClass:"oneThird"},[a("vyw-switch",{attrs:{"data-key":"LoadVoltMeter",labels:["No VLoad meter","VLoad meter present"]}})],1),a("div",{staticClass:"oneThird"},[a("vyw-switch",{attrs:{"data-key":"AhMeterDisplay",labels:["No Ah meter","Ah meter present"]}})],1)])])],1),a("v-card",{staticClass:"mt-1",class:{grey:t.adjustDisabled,"lighten-3":t.adjustDisabled}},[a("v-card-title",{staticClass:"headline"},[t._v("Adjust")]),a("v-card-text",[a("div",{staticClass:"d-flex"},[a("div",[a("vyw-switch",{attrs:{"data-key":"ManCurrAdjust",labels:["Variable current off","Variable current on"]}})],1),a("div",[a("vyw-switch",{attrs:{"data-key":"ManVoltAdjust",labels:["Variable voltage off","Variable voltage on"]}})],1)]),a("div",{staticClass:"d-flex"},[a("div",{staticClass:"oneThird"}),a("div",{staticClass:"oneThird"},[a("vyw-numeric-input",{attrs:{"data-key":"VoltAdjustMin",label:"Min voltage",suffix:"V",bottom:Number(0),top:Number(650),hint:"[0~650]"}})],1),a("div",{staticClass:"oneThird"},[a("vyw-numeric-input",{attrs:{"data-key":"VoltAdjustMax",label:"Max voltage",suffix:"V",bottom:Number(0),top:Number(650),hint:"[0~650]"}})],1)])])],1),a("v-card",{staticClass:"mt-1"},[a("v-card-title",{staticClass:"headline"},[t._v("Rectifier off")]),a("v-card-text",[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"oneThird"},[a("vyw-switch",{attrs:{"data-key":"RfShtdnEnable",labels:["Not on rectifier failure","On rectifier failure"]}})],1),a("div",{staticClass:"oneThird"},[a("vyw-switch",{attrs:{"data-key":"MfShtdnEnable",labels:["Not on mains failure","On mains failure"]}})],1),a("div",{staticClass:"oneThird"},[a("vyw-switch",{attrs:{"data-key":"HvShtdnEnable",labels:["Not on high DC voltage","On high DC voltage"]}})],1)])])],1),a("v-card",{staticClass:"mt-1"},[a("v-card-title",{staticClass:"headline"},[t._v("Customer information")]),a("v-card-text",[a("div",{staticClass:"d-flex"},[a("div",[a("vyw-numeric-input",{attrs:{"data-key":"Edit_DC_VMINDLT",label:"Low voltage limit",suffix:"V",bottom:Number(0),top:Number(999)}})],1),a("div",[a("vyw-numeric-input",{attrs:{"data-key":"Edit_DC_VMAXDLT",label:"High voltage limit",suffix:"V",bottom:Number(0),top:Number(999)}})],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-numeric-input",{attrs:{"data-key":"Edit_DC_CURA",label:"Current when mains off",suffix:"A",bottom:Number(0),top:Number(1e3)}})],1),a("div",[a("vyw-numeric-input",{attrs:{"data-key":"Edit_DC_CURP",label:"Current when mains on",suffix:"A",bottom:Number(0),top:Number(1e3)}})],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-numeric-input",{attrs:{"data-key":"Edit_DC_PDC",label:"Peak current",suffix:"A",bottom:Number(0)}})],1),a("div",[a("vyw-numeric-input",{attrs:{"data-key":"Edit_DC_DDLPDC",label:"Duration of peak current",suffix:"s",bottom:Number(0)}})],1)])])],1)],1)],1)],1)],1)},Wt=[],Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-text-field",{staticClass:"mw",attrs:{label:t.label,box:"",light:"",suffix:t.suffix,error:t.error,"error-messages":t.errorMessages,hint:t.hint},on:{change:t.changed,input:t.input},model:{value:t.editedValue,callback:function(e){t.editedValue=e},expression:"editedValue"}})},qt=[],zt={props:{dataKey:{type:String,required:!0},scale:{type:Number,default:1},bottom:[Number,String],top:[Number,String],maxPrecision:{type:Number,default:5},label:String,suffix:String,hint:String,onChanged:{type:Function}},data:function(){return{editedValue:void 0,initialValue:void 0,isNumber:!1,error:!1,errorMessages:[]}},computed:{min:function(){return isNaN(this.bottom)?void 0:Number(this.bottom)},max:function(){return isNaN(this.top)?void 0:Number(this.top)}},methods:{test:function(){var t=Number(this.editedValue);return isNaN(t)?{msg:"Not a number!",def:this.initialValue}:void 0!==this.min&&t<this.min?{msg:"Too small (minimum: ".concat(this.min,")!"),def:this.min}:void 0!==this.max&&t>this.max?{msg:"Too large (maximum: ".concat(this.max,")!"),def:this.max}:(this.initialValue=t,!1)},applyPrecision:function(t){var e=Math.round(Number(this.maxPrecision));return!isNaN(e)&&e>0?Number(t.toPrecision(this.maxPrecision)):t},input:function(){var t=this.test();!1===t?(this.error=!1,this.errorMessages=[]):(this.error=!0,this.errorMessages=[t.msg])},changed:function(){var t=this.test(),e=Number(this.editedValue);!1!==t&&(e=t.def),this.editedValue=e,this.input();var a=this.applyPrecision(e/this.scale),r={dataKey:this.dataKey,value:this.isNumber?a:a.toString()};"function"===typeof this.onChanged?this.onChanged(r):this.defaultOnChanged(r)},reactOnNewData:function(t){var e=t;this.isNumber="number"===typeof e,e=isNaN(t)?0:this.applyPrecision(Number(t)*this.scale),this.initialValue=e,this.editedValue=e}},mounted:function(){if(this.scale<=0)throw this.$destroy(),this.$el.parentNode.removeChild(this.$el),"unsupported scale: ".concat(this.scale)},mixins:[dt,ht]},Qt=zt,Jt=(a("4cde"),Object(vt["a"])(Qt,Xt,qt,!1,null,"bad6b2c6",null)),Zt=Jt.exports;yt()(Jt,{VTextField:Tt["a"]});var te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-text-field",{staticClass:"mw",attrs:{label:t.label,box:"",suffix:t.suffix,error:t.error,"error-messages":t.errorMessages,hint:t.hint,"append-icon":t.stepperIcon},on:{change:t.changed,input:t.input,"click:append":t.stpperIconClicked},model:{value:t.editedValue,callback:function(e){t.editedValue=e},expression:"editedValue"}})},ee=[],ae={props:{dataKey:{type:String,required:!0},scale:{type:Number,default:function(){return 1}},bottom:[Number,String],top:[Number,String],stepper:{type:Object,validator:function(t){return"undefined"===typeof t||"number"===typeof t.up&&"number"===typeof t.down}},label:String,suffix:String,hint:String,onChanged:{type:Function}},data:function(){return{editedValue:void 0,initialValue:void 0,isNumber:!1,error:!1,errorMessages:[]}},computed:{min:function(){return isNaN(this.bottom)?void 0:this.numToInt(Number(this.bottom))},max:function(){return isNaN(this.top)?void 0:this.numToInt(Number(this.top))},stepperInc:function(){var t=this.stepper?this.stepper.up:void 0;if(void 0!==Object(x["a"])(t)&&!isNaN(t)){var e=Math.floor(Number(t));return e>0?e:void 0}},stepperDec:function(){var t=this.stepper?this.stepper.down:void 0;if(void 0!==Object(x["a"])(t)&&!isNaN(t)){var e=Math.floor(Number(t));return e>0?e:void 0}},stepperIcon:function(){return this.stepperInc&&this.stepperDec?"unfold_more":void 0}},methods:{test:function(){var t=Number(this.editedValue);return isNaN(t)?{msg:"Not a number!",def:this.initialValue}:0==this.isAnInt(Number(t))?{msg:"Only integer values!",def:this.numToInt(Number(t))}:void 0!==this.min&&Number(t)<this.min?{msg:"Too small (minimum: ".concat(this.min,")!"),def:this.min}:void 0!==this.max&&Number(t)>this.max?{msg:"Too large (maximum: ".concat(this.max,")!"),def:this.max}:(this.initialValue=t,!1)},input:function(){var t=this.test();!1===t?(this.error=!1,this.errorMessages=[]):(this.error=!0,this.errorMessages=[t.msg])},changed:function(){var t=this.test(),e=this.editedValue;!1!==t&&(e=t.def),this.editedValue=e,this.input();var a=e;(this.scale>=1.5||this.scale<=2/3)&&(a=Math.round(a*this.scale));var r={dataKey:this.dataKey,value:this.isNumber?a:a.toString()};"function"===typeof this.onChanged?this.onChanged(r):this.defaultOnChanged(r)},numToInt:function(t){return isNaN(t)?NaN:Math.round(t)},isAnInt:function(t){return 0==isNaN(t)&&Math.floor(t)===t},cropDown:function(t){return"number"===typeof this.min?Math.max(this.min,t):t},cropUp:function(t){return"number"===typeof this.max?Math.min(this.max,t):t},stpperIconClicked:function(t){var e=Number(this.editedValue);isNaN(e)||(t.offsetY>t.target.offsetHeight/2?e=this.cropDown(e-this.stepperDec):(e+=this.stepperInc,this.stepper.roundUp&&(e=Math.floor(e/this.stepperInc)*this.stepperInc),e=this.cropUp(e)),this.editedValue!==e&&(this.editedValue=e,this.changed()))},reactOnNewData:function(t){var e=t;this.isNumber="number"===typeof e,isNaN(t)?e="0":(e=Math.round(Number(t).toString()),(this.scale>=1.5||this.scale<=2/3)&&(e=Math.round(e/this.scale))),this.initialValue=e,this.editedValue=e}},mixins:[dt,ht],mounted:function(){if(this.scale<=0)throw this.$destroy(),this.$el.parentNode.removeChild(this.$el),"unsupported scale: ".concat(this.scale)}},re=ae,ie=(a("7eff"),Object(vt["a"])(re,te,ee,!1,null,"80309854",null)),ne=ie.exports;yt()(ie,{VTextField:Tt["a"]});var le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-select",{attrs:{label:t.label,items:t.itemList,box:"",hint:t.hint},on:{change:t.changed},model:{value:t.editedValue,callback:function(e){t.editedValue=e},expression:"editedValue"}})},se=[],oe={props:{dataKey:{type:String,required:!0},itemList:{type:Array,required:!0,validator:function(t){return t.every((function(t){return"string"===typeof t}))}},label:String,hint:String,onChanged:{type:Function}},data:function(){return{editedValue:void 0}},computed:{index:function(){return this.itemList instanceof Array?this.itemList.indexOf(this.editedValue):-1}},methods:{changed:function(){var t={dataKey:this.dataKey,value:this.editedValue,index:this.index};"function"===typeof this.onChanged?this.onChanged(t):this.defaultOnChanged(t)},reactOnNewData:function(t){if(this.itemList instanceof Array)if(this.editedValue=this.itemList[0],"number"===typeof t){var e=Math.round(t),a=Math.max(0,Math.min(e,this.itemList.length-1));this.editedValue=this.itemList[a]}else"string"===typeof t&&this.itemList.indexOf(t)>=0&&(this.editedValue=t)}},mixins:[dt,ht]},ce=oe,ue=a("b56d"),de=Object(vt["a"])(ce,le,se,!1,null,"93ff5a0e",null),me=de.exports;yt()(de,{VSelect:ue["a"]});var he={components:{VywNumericInput:Zt,VywIntegerInput:ne,VywSelectInput:me,VywSwitch:Mt},data:function(){return{selectChoices:j,adjustDisabled:!1}},computed:{baudrates:function(){return["1200","2400","4800","9600","19200"]},acVoltages:function(){return["110","120","127","208","220","230","240","380","400"]},dcCurrents:function(){return["5","10","15","25","35","50","75","100"]},dcVoltages:function(){return["12","24","48","60","110","125","220"]}},methods:{updateMiscStuff:function(t,e,a){this.adjustDisabled="false"===P.ManCurrAdjust&&"false"===P.ManVoltAdjust,"Edit_ENV_ALT"===a&&(t=parseFloat(t),t>5e3&&(t=5e3),t=t>=1e3&&t<=5e3?.007*(t-1e3)+7:0,t=Math.round(10*t)/10,P.Label_Derating_ALT=t.toString()),"Edit_ENV_TA"===a&&(t=parseFloat(t),t>60&&(t=60),t=t>=40?1.25*(t-40):0,t=Math.round(10*t)/10,P.Label_Derating_temp=t.toString())},reactSources:function(){return["ManCurrAdjust","ManVoltAdjust","Edit_ENV_ALT","Edit_ENV_TA"]}},mixins:[mt]},pe=he,fe=(a("89fc"),a("12b2")),ve=Object(vt["a"])(pe,Gt,Wt,!1,null,"afe0d590",null),be=ve.exports;yt()(ve,{VCard:Pt["a"],VCardText:Ht["b"],VCardTitle:fe["a"],VContainer:Bt["a"],VFlex:jt["a"],VLayout:$t["a"]});var ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"pt-3":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","px-1":"","align-content-center":""}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Cell arrangement")]),a("v-card-text",[a("vyw-radios",{attrs:{dataKeysAndLabels:t.elementRadioDefs}}),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-integer-input",{attrs:{"data-key":"Edit_QDB_NDB",label:"Number of blocks",bottom:Number(1),top:Number(1e3),hint:"Nb of cells = number of bloks x nb cell(s) per block"}})],1),a("div",{staticClass:"align-self-center"},[t._v(" Number of cells: "),a("vyw-read-only-text",{attrs:{"data-key":"NrOfCells"}})],1)])],1)],1),a("v-card",{staticClass:"py-1 px-2 mt-1"},[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"pr-2 half"},[a("vyw-default-select",{attrs:{"data-key":"Combo_DEF_TDB",label:"Battery type","item-list":t.batteryTypes}})],1),a("div",[a("vyw-text-input",{attrs:{"data-key":"Edit_BattName",label:"Battery name",maxChars:Number(16)}})],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-numeric-input",{attrs:{"data-key":"BattCapacity",label:"Battery capacity",suffix:"Ah",bottom:Number(0),top:Number(9999)}})],1),a("div",[a("vyw-numeric-input",{attrs:{"data-key":"Edit_DEF_CDCC",label:"Short circuit current",suffix:"kA"}})],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-numeric-input",{attrs:{"data-key":"UflPerCell",label:"Floating charge voltage per cell",suffix:"V/cell",bottom:Number(0),top:Number(24),hint:"[0~24]"}})],1),a("div",{staticClass:"align-self-center"},[t._v(" Total: "),a("vyw-read-only-text",{attrs:{"data-key":"Label_DEF_TDFLPETOT2"}}),t._v(" V ")],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-numeric-input",{attrs:{"data-key":"IbattNom",label:"Current limit",suffix:"A",bottom:Number(1),top:Number(9999),hint:"[1~9,999]"}})],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-switch",{attrs:{"data-key":"TempComp",labels:["No","Yes"]}})],1),a("div",[a("vyw-numeric-input",{attrs:{"data-key":"CompPerC",label:"Temperature compensation",bottom:Number(0),top:Number(.6),suffix:"%/C"}})],1),a("div",[a("div",[a("vyw-read-only-text",{attrs:{"data-key":"Edit_DEF_CET"}}),t._v(" mV/C/Cell ")],1),a("div",[t._v(t._s(t.vPerC)+" mV/C")])])]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-switch",{attrs:{"data-key":"BattShunt",labels:["No battery shunt","Has battery shunt"]}})],1),a("div",[a("vyw-numeric-input",{attrs:{"data-key":"BattShuntVal",label:"Shunt value @ 100 mV",suffix:"A",bottom:Number(.5),top:Number(9999),hint:"[0.5~9999]"}})],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-numeric-input",{attrs:{"data-key":"Edit_DEF_TDFDDPE",label:"Discharge end voltage / cell",bottom:Number(0),top:Number(1e3),suffix:"V"}})],1),a("div",{staticClass:"align-self-center"},[t._v(" Total: "),a("vyw-read-only-text",{attrs:{"data-key":"Label_DEF_TDFDDTOT2"}}),t._v(" V ")],1)])]),a("v-card",{staticClass:"mt-1",class:{grey:t.voDisabled,"lighten-3":t.voDisabled}},[a("v-card-title",{staticClass:"headline"},[t._v("VO settings")]),a("v-card-text",[a("div",{staticClass:"d-flex"},[a("div",[a("vyw-numeric-input",{attrs:{"data-key":"DTmin",label:"ΔΘ min",suffix:"C",bottom:Number(0),top:Number(20)}})],1),a("div",[a("vyw-numeric-input",{attrs:{"data-key":"DTmax",label:"ΔΘ max",suffix:"C",bottom:Number(0),top:Number(20)}})],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-numeric-input",{attrs:{"data-key":"IbattLow",label:"Current limit",suffix:"A",bottom:Number(1),top:Number(9999)}})],1),a("div",[a("vyw-numeric-input",{attrs:{"data-key":"VoChargeTime",label:"Extra time",suffix:"h",bottom:Number(0),top:Number(20)}})],1)])])],1)],1),a("v-flex",{attrs:{xs12:"",sm6:"","px-1":"","align-content-center":""}},[a("v-card",{class:{grey:t.highrateDisabled,"lighten-3":t.highrateDisabled}},[a("v-card-title",{staticClass:"headline"},[t._v("Highrate")]),a("v-card-text",[a("div",{staticClass:"d-flex"},[a("div",[a("vyw-numeric-input",{attrs:{"data-key":"UhrPerCell",label:"Highrate charge voltage / cell",suffix:"V/cell",bottom:Number(0),top:Number(24)}})],1),a("div",{staticClass:"align-self-center"},[t._v(" Total: "),a("vyw-read-only-text",{attrs:{"data-key":"Label_DEF_TDEPETOT2"}}),t._v(" V ")],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-radios",{attrs:{dataKeysAndLabels:t.hrModeRadioDefs}})],1),a("div",[a("vyw-default-select",{attrs:{"data-key":"HrRelayOutput",label:"Relay number","item-list":t.relayNumbers,hint:"0: no relay"}})],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-switch",{attrs:{"data-key":"ManHrEnable",labels:["Manual start disabled","Manual start enabled"]}})],1),a("div",[a("vyw-default-select",{attrs:{"data-key":"PeriodicHr","item-list":t.hrPeriodicTimes,label:"Periodic time (months)"}})],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-switch",{attrs:{"data-key":"ClHrEnable",labels:["No start on current limit","Starts on current limit"]}})],1),a("div",[a("vyw-integer-input",{attrs:{"data-key":"ClHrTime",label:"Delay",suffix:"s",bottom:Number(0),top:Number(255)}})],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-switch",{attrs:{"data-key":"MfHrEnable",labels:["No start on mains failure","Starts on mains failure"]}})],1),a("div",[a("vyw-integer-input",{attrs:{"data-key":"MfHrTime",label:"Delay",suffix:"s",bottom:Number(0),top:Number(255)}})],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-numeric-input",{attrs:{"data-key":"ChargeTime",label:"Charge time",suffix:"h",bottom:Number(0),top:Number(99)}})],1),a("div",[a("vyw-numeric-input",{attrs:{"data-key":"BattFanDelay",label:"Fan delay",suffix:"h",bottom:Number(0),top:Number(24)}})],1)])])],1),a("v-card",{staticClass:"mt-1",class:{grey:t.commissioningDisabled,"lighten-3":t.commissioningDisabled}},[a("v-card-title",{staticClass:"headline"},[t._v("Commissioning")]),a("v-card-text",[a("div",{staticClass:"d-flex"},[a("div",[a("vyw-switch",{attrs:{"data-key":"CommEnable",labels:["Commissioning disabled","Commissioning enabled"]}})],1),a("div",[a("vyw-default-select",{attrs:{"data-key":"CommRelayOutput",label:"Relay number","item-list":t.relayNumbers,hint:"0: no relay"}})],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-numeric-input",{attrs:{"data-key":"UcommPerCell",label:"Commissioning charge voltage / cell",suffix:"V/cell",bottom:Number(0),top:Number(24)}})],1),a("div",{staticClass:"align-self-center"},[t._v(" Total: "),a("vyw-read-only-text",{attrs:{"data-key":"Label_DEF_TDFOTOT2"}}),t._v(" V ")],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-numeric-input",{attrs:{"data-key":"CommCurrent",label:"Commiss. charge current",suffix:"A",bottom:Number(1),top:Number(9999)}})],1),a("div",[a("vyw-numeric-input",{attrs:{"data-key":"CommTime",label:"Commiss. charge time",suffix:"h",bottom:Number(0),top:Number(24)}})],1)])])],1),a("v-card",{staticClass:"mt-1",class:{grey:t.battTestDisabled,"lighten-3":t.battTestDisabled}},[a("v-card-title",{staticClass:"headline"},[t._v("Battery test")]),a("v-card-text",[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"one-third"},[a("vyw-switch",{attrs:{"data-key":"BattTestEnable",labels:["Disabled","Enabled"]}})],1),a("div",{staticClass:"px-1"},[a("vyw-default-select",{attrs:{"data-key":"AutoTestPeriod",itemList:t.months,label:"Period (months)"}})],1),a("div",{staticClass:"one-third"},[a("vyw-numeric-input",{attrs:{"data-key":"DischrgPercent",label:"Discharge",suffix:"%",bottom:Number(0),top:Number(30)}})],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-numeric-input",{attrs:{"data-key":"TestEndVoltage",label:"Test end voltage",suffix:"V",bottom:Number(0),top:Number(650)}})],1),a("div",[a("vyw-numeric-input",{attrs:{"data-key":"EndVoltageAlarm",label:"Discharge end voltage alarm",suffix:"V",bottom:Number(0),top:Number(650)}})],1)])])],1)],1)],1)],1)},_e=[],Ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-radio-group",{attrs:{mandatory:!0,column:!1},on:{change:t.changed},model:{value:t.editedValue,callback:function(e){t.editedValue=e},expression:"editedValue"}},t._l(t.dataKeysAndLabels,(function(e){return a("v-radio",{key:e.key,attrs:{label:e.label,value:e.key,color:t.colorWhenOn}})})),1)},ge=[],Le={props:{dataKeysAndLabels:{type:Array,required:!0},hint:String,colorWhenOn:String,onChanged:{type:Function}},data:function(){return{editedValue:void 0,externalType:"boolean"}},methods:{typedValue:function(t){switch(this.externalType){case"number":return t?1:0;case"stringLiteral":return t?"true":"false";case"stringNumeric":return t?"1":"0";default:return t}},changed:function(){var t=this,e="function"===typeof this.onChanged?this.onChanged:this.defaultOnChanged;this.dataKeysAndLabels.forEach((function(a){var r=a.key;e({dataKey:r,value:t.typedValue(r===t.editedValue)})}))},reactOnNewData:function(t,e,a){switch(Object(x["a"])(t)){case"number":if(0===t)return;this.externalType="number";break;case"string":if("false"===t.toLowerCase()||"0"===t)return;this.externalType=isNaN(t)?"stringLiteral":"stringNumeric";break;case"boolean":if(!1===t)return;this.externalType="boolean";break;default:return}for(var r=0;r<this.dataKeysAndLabels.length;r++){var i=this.dataKeysAndLabels[r].key;if(i===a||R[i]===a||i===R[a]){this.editedValue=i;break}}}},created:function(){for(var t=this.reactOnNewData.bind(this),e=0;e<this.dataKeysAndLabels.length;e++){var a=this.dataKeysAndLabels[e].key,r=void 0===R[a]?a:R[a];P.$watchers[a].push(t),r!==a&&P.$watchers[r].push(t),this.reactOnNewData(P[this.dataKeysAndLabels[e].key])}},beforeDestroy:function(){for(var t=this.reactOnNewData.bind(this),e=0;e<this.dataKeysAndLabels.length;e++){var a=this.dataKeysAndLabels[e].key,r=void 0===R[a]?a:R[a];N(t,P.$watchers[a]),r!==a&&N(t,P.$watchers[r])}},mixins:[ht]},xe=Le,Ne=a("67b6"),De=a("43a6"),Te=Object(vt["a"])(xe,Ce,ge,!1,null,"404ead38",null),we=Te.exports;yt()(Te,{VRadio:Ne["a"],VRadioGroup:De["a"]});var Se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[t._v(t._s(t.displayedValue))])},Ee=[],Ve={props:{dataKey:{type:String,required:!0}},data:function(){return{displayedValue:void 0}},methods:{reactOnNewData:function(t){this.displayedValue=t}},mixins:[dt]},Fe=Ve,Ae=Object(vt["a"])(Fe,Se,Ee,!1,null,"848cefac",null),Oe=Ae.exports,Ie={data:function(){return{vPerC:null,voDisabled:!1,highrateDisabled:!1,commissioningDisabled:!1,battTestDisabled:!1}},components:{VywRadios:we,VywIntegerInput:ne,VywNumericInput:Zt,VywReadOnlyText:Oe,VywDefaultSelect:me,VywSwitch:Mt,VywTextInput:St},computed:{hrPeriodicTimes:function(){return j.hrPeriodicTimes},relayNumbers:function(){return j.relayNumbers},months:function(){return Object(L["a"])(Array(12)).map((function(t,e){return(e+1).toString()}))},elementRadioDefs:function(){return[{key:"Option_1_elemt",label:"1 cell / block"},{key:"Option_2_elemt",label:"2 cells / block"},{key:"Option_3_elemt",label:"3 cells / block"},{key:"Option_6_elemt",label:"6 cells / block"}]},hrModeRadioDefs:function(){return[{key:"ChrgTimerMode",label:"Direct"},{key:"Option_DEF_POST",label:"Post"}]},batteryTypes:function(){return["None","VO","Ni CD (SBH-SBM)","Ni CD (SBL)","Ni CD (SPH)","Ni CD (SLM)","Sealed lead acid","Open lead acid"]}},methods:{updateMiscStuff:function(t,e,a){var r=1;if("1"===P.Option_2_elemt?r=2:"1"===P.Option_3_elemt?r=3:"1"===P.Option_6_elemt&&(r=6),"Combo_DEF_TDB"===a){var i="VO"===t?"true":"false",n=i;"false"===n&&(n=P.TempComp),P.meta_displayAmbientTemperature=n,P.meta_displayBatteryTemperature=i}var l=Number(P.Edit_QDB_NDB)*r;P.NrOfCells=l.toString(),P["Label_DEF_TDFLPETOT2"]=D(Number(P.UflPerCell)*l,4),P["Label_DEF_TDFDDTOT2"]=D(Number(P["Edit_DEF_TDFDDPE"])*l,4),P["Label_DEF_TDFOTOT2"]=D(Number(P.UcommPerCell)*l,4),P["Label_DEF_TDEPETOT2"]=D(Number(P.UhrPerCell)*l,4),P["Edit_DEF_CET"]=D(Number(P.CompPerC)*Number(P.UflPerCell),4),this.vPerC=D(Number(P.CompPerC)*Number(P.UflPerCell)*l,4),t!==e&&("VoApplEnable"===a||"Frame_OPBV"===a?"true"===t?P["Combo_DEF_TDB"]="VO":"VO"===P["Combo_DEF_TDB"]&&(P["Combo_DEF_TDB"]="None"):"Combo_DEF_TDB"===a&&(P.VoApplEnable="VO"===t?"true":"false")),this.voDisabled="false"===P.VoApplEnable,this.voDisabled&&"Check_DEF_CET"===a&&(P.meta_displayAmbientTemperature=t),this.highrateDisabled="false"===P.ManHrEnable&&"None"===P.PeriodicHr&&"false"===P.ClHrEnable&&"false"===P.MfHrEnable,this.commissioningDisabled="false"===P.CommEnable,this.battTestDisabled="false"===P.BattTestEnable},reactSources:function(){return["Option_2_elemt","Option_3_elemt","Option_6_elemt","Edit_QDB_NDB","UflPerCell","Edit_DEF_TDFDDPE","UcommPerCell","UhrPerCell","CompPerC","Combo_DEF_TDB","VoApplEnable","ManHrEnable","PeriodicHr","ClHrEnable","MfHrEnable","CommEnable","BattTestEnable","TempComp"]}},mixins:[mt]},Me=Ie,Re=(a("3a5f"),Object(vt["a"])(Me,ye,_e,!1,null,"6e066fa0",null)),ke=Re.exports;yt()(Re,{VCard:Pt["a"],VCardText:Ht["b"],VCardTitle:fe["a"],VContainer:Bt["a"],VFlex:jt["a"],VLayout:$t["a"]});var Pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{attrs:{"pa-0":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-layout",{attrs:{column:""}},[a("v-flex",{attrs:{"pa-0":""}},[a("vyw-alarm",{attrs:{title:t.alarmMF.title,params:t.alarmMF.params}}),a("vyw-alarm",{attrs:{title:t.alarmHC.title,params:t.alarmHC.params}}),a("vyw-alarm",{attrs:{title:t.alarmLC.title,params:t.alarmLC.params}}),a("vyw-alarm",{attrs:{title:t.alarmHD.title,params:t.alarmHD.params}}),a("vyw-alarm",{attrs:{title:t.alarmLD.title,params:t.alarmLD.params}}),a("vyw-alarm",{attrs:{title:t.alarmRF.title,params:t.alarmRF.params}}),a("vyw-alarm",{attrs:{title:t.alarmEFP.title,params:t.alarmEFP.params}}),a("vyw-alarm",{attrs:{title:t.alarmEFM.title,params:t.alarmEFM.params}})],1)],1)],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-layout",[a("v-flex",[a("vyw-alarm",{attrs:{title:t.alarmS1.title,params:t.alarmS1.params}}),a("vyw-alarm",{attrs:{title:t.alarmS2.title,params:t.alarmS2.params}}),a("vyw-alarm",{attrs:{title:t.alarmS3.title,params:t.alarmS3.params}}),a("vyw-alarm",{attrs:{title:t.alarmS4.title,params:t.alarmS4.params}}),a("vyw-alarm",{attrs:{title:t.alarmHT.title,params:t.alarmHT.params}}),a("vyw-alarm",{attrs:{title:t.alarmHB.title,params:t.alarmHB.params}}),a("vyw-alarm",{attrs:{title:t.alarmHR.title,params:t.alarmHR.params}}),a("vyw-alarm",{attrs:{title:t.alarmCM.title,params:t.alarmCM.params,isCommonAlarm:!1}})],1)],1)],1)],1)],1)],1)},He=[],Be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"ma-1"},[a("div",{staticClass:"d-flex justify-space-around"},[a("div",{staticClass:"pa-1"},[a("vyw-switch",{attrs:{colorWhenOn:"success","data-key":t.params.enabledId,labels:t.enableLabels}})],1),t.hp("delayId")?a("div",{staticClass:"pa-1",staticStyle:{"margin-left":"25%","max-width":"40%"}},[a("vyw-integer-input",{attrs:{"data-key":t.params.delayId,stepper:{down:1,up:10,roundUp:!0},bottom:0,label:"Delay",suffix:"s",hint:"positive integer value"}})],1):t._e()]),a("div",{staticClass:"d-flex"},[t.hp("relayNbId")?a("div",{staticClass:"pa-1"},[a("vyw-default-select",{attrs:{"data-key":t.params.relayNbId,label:"Relay number","item-list":t.selectChoices.relayNumbers,hint:"0: no relay"}})],1):t._e(),t.hp("latch.displayId")?a("div",{staticClass:"pa-1"},[a("vyw-switch",{attrs:{"data-key":t.params.latch.displayId,labels:["Display latch: OFF","Display latch: ON"]}})],1):t._e(),t.hp("latch.relayId")?a("div",{staticClass:"pa-1"},[a("vyw-switch",{attrs:{"data-key":t.params.latch.relayId,labels:["Relay latch: OFF","Relay latch: ON"]}})],1):t._e()]),t.hp("th1.id")?a("div",{staticClass:"d-flex pa-1"},[a("div",{staticClass:"pa-1"},[a("vyw-numeric-input",{attrs:{"data-key":t.params.th1.id,scale:void 0===t.params.th1.scale?void 0:Number(t.params.th1.scale),bottom:t.params.th1.min,top:t.params.th1.max,label:t.params.th1.title,suffix:t.params.th1.unit,hint:t.params.th1.hint}})],1),t.hp("th2.id")?a("div",{staticClass:"pa-1"},[a("vyw-numeric-input",{attrs:{"data-key":t.params.th2.id,scale:void 0===t.params.th2.scale?void 0:Number(t.params.th2.scale),bottom:t.params.th2.min,top:t.params.th2.max,label:t.params.th2.title,suffix:t.params.th2.unit,hint:t.params.th2.hint}})],1):t._e()]):t._e(),t.hp("text")?a("div",{staticClass:"d-flex pa-1"},[a("div",{staticClass:"pa-1"},[a("vyw-text-input",{attrs:{"data-key":t.params.text,label:"Text",hint:"16 characters, maximum",maxChars:"16"}})],1)]):t._e()])},je=[],Ue={name:"vyw-alarm",props:{title:String,params:Object,isCommonAlarm:Boolean},data:function(){return{selectChoices:j}},methods:{hp:function(t){var e=t.split("."),a=e.reduce((function(t,e){return void 0!==t&&(t=t[e]),t}),this.params);return void 0!==a}},computed:{enableLabels:function(){return["".concat(this.title," OFF"),"".concat(this.title," ON")]}},components:{VywTextInput:St,VywIntegerInput:ne,VywNumericInput:Zt,VywSwitch:Mt,VywDefaultSelect:me}},$e=Ue,Ke=Object(vt["a"])($e,Be,je,!1,null,"52d6432a",null),Ye=Ke.exports;yt()(Ke,{VCard:Pt["a"]});var Ge={components:{VywAlarm:Ye},computed:{alarmMF:function(){return{title:"Mains out-of-range",params:{enabledId:"MF_Enabled",relayNbId:"MF_RelayOutput",delayId:"MF_Delay",latch:{displayId:"MF_LcdLatch",relayId:"MF_RelayLatch"},th1:{id:"MF_LowerLimit",title:"Min voltage",unit:"Vac",hint:"threshold",min:90,max:900},th2:{id:"MF_UpperLimit",title:"Max voltage",unit:"Vac",hint:"threshold",min:90,max:900}}}},alarmHC:function(){return{title:"High charger voltage",params:{enabledId:"HC_Enabled",relayNbId:"HC_RelayOutput",delayId:"HC_Delay",latch:{displayId:"HC_LcdLatch",relayId:"HC_RelayLatch"},th1:{id:"HC_LowerLimit",title:"Highrate",unit:"Vdc",hint:"threshold",min:"16",max:"900"},th2:{id:"HC_UpperLimit",title:"Floating",unit:"Vdc",hint:"threshold",min:"16",max:"900"}}}},alarmLC:function(){return{title:"Low charger voltage",params:{enabledId:"LC_Enabled",relayNbId:"LC_RelayOutput",delayId:"LC_Delay",latch:{displayId:"LC_LcdLatch",relayId:"LC_RelayLatch"},th1:{id:"LC_LowerLimit",title:"Low level",unit:"Vdc",hint:"threshold",min:"16",max:"900"}}}},alarmHD:function(){return{title:"High DC load voltage",params:{enabledId:"HD_Enabled",relayNbId:"HD_RelayOutput",delayId:"HD_Delay",latch:{displayId:"HD_LcdLatch",relayId:"HD_RelayLatch"},th1:{id:"HD_UpperLimit",title:"High level",unit:"Vdc",hint:"threshold",min:"16",max:"900"}}}},alarmLD:function(){return{title:"Low DC load voltage",params:{enabledId:"LD_Enabled",relayNbId:"LD_RelayOutput",delayId:"LD_Delay",latch:{displayId:"LD_LcdLatch",relayId:"LD_RelayLatch"},th1:{id:"LD_LowerLimit",title:"Low level",unit:"Vdc",hint:"threshold",min:"16",max:"900"}}}},alarmRF:function(){return{title:"Rectifier failure",params:{enabledId:"RF_Enabled",relayNbId:"RF_RelayOutput",delayId:"RF_Delay",latch:{displayId:"RF_LcdLatch",relayId:"RF_RelayLatch"}}}},alarmEFP:function(){return{title:"Earth fault plus (+)",params:{enabledId:"EFP_Enabled",relayNbId:"EFP_RelayOutput",delayId:"EFP_Delay",latch:{displayId:"EFP_LcdLatch",relayId:"EFP_RelayLatch"}}}},alarmEFM:function(){return{title:"Earth fault minus (-)",params:{enabledId:"EFM_Enabled",relayNbId:"EFM_RelayOutput",delayId:"EFM_Delay",latch:{displayId:"EFM_LcdLatch",relayId:"EFM_RelayLatch"}}}},alarmS1:function(){return{title:"Spare 1 (X8.1)",params:{enabledId:"S1_Enabled",relayNbId:"S1_RelayOutput",delayId:"S1_Delay",latch:{displayId:"S1_LcdLatch",relayId:"S1_RelayLatch"},text:"S1_Text"}}},alarmS2:function(){return{title:"Spare 2 (X8.2)",params:{enabledId:"S2_Enabled",relayNbId:"S2_RelayOutput",delayId:"S2_Delay",latch:{displayId:"S2_LcdLatch",relayId:"S2_RelayLatch"},text:"S2_Text"}}},alarmS3:function(){return{title:"Spare 3 (X8.3)",params:{enabledId:"S3_Enabled",relayNbId:"S3_RelayOutput",delayId:"S3_Delay",latch:{displayId:"S3_LcdLatch",relayId:"S3_RelayLatch"},text:"S3_Text"}}},alarmS4:function(){return{title:"Spare 4 (X8.4)",params:{enabledId:"S4_Enabled",relayNbId:"S4_RelayOutput",delayId:"S4_Delay",latch:{displayId:"S4_LcdLatch",relayId:"S4_RelayLatch"},text:"S4_Text"}}},alarmHT:function(){return{title:"High temperature (X9.5)",params:{enabledId:"HT_Enabled",relayNbId:"HT_RelayOutput",delayId:"HT_Delay",latch:{displayId:"HT_LcdLatch",relayId:"HT_RelayLatch"}}}},alarmHB:function(){return{title:"High battery current",params:{enabledId:"HB_Enabled",relayNbId:"HB_RelayOutput",delayId:"HB_Delay",latch:{displayId:"HB_LcdLatch",relayId:"HB_RelayLatch"},th1:{id:"HB_UpperLimit",title:"High level",unit:"Amps",hint:"threshold",min:"0",max:"1000"}}}},alarmHR:function(){return{title:"High rectifier current",params:{enabledId:"HR_Enabled",relayNbId:"HR_RelayOutput",delayId:"HR_Delay",latch:{displayId:"HR_LcdLatch",relayId:"HR_RelayLatch"},th1:{id:"HR_UpperLimit",title:"High level",unit:"Amps",hint:"threshold",min:"0",max:"1000"}}}},alarmCM:function(){return{title:"Common alarm",params:{enabledId:"CM_Enabled",latch:{relayId:"CM_RelayLatch"}}}}}},We=Ge,Xe=Object(vt["a"])(We,Pe,He,!1,null,"5f2a0d26",null),qe=Xe.exports;yt()(Xe,{VContainer:Bt["a"],VFlex:jt["a"],VLayout:$t["a"]});var ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-content",[a("v-layout",{attrs:{"justify-center":""}},[a("v-flex",{attrs:{xs12:"",md8:"","pt-3":""}},[a("v-card",[a("v-container",{attrs:{"pb-0":""}},[a("v-layout",{attrs:{"justify-center":""}},[a("v-flex",{attrs:{"pt-2":""}},[a("v-chip",{attrs:{color:"red","text-color":"white"}},[t._v("Test")])],1),a("v-flex",{attrs:{xs4:"",sm4:"","px-1":""}},[a("vyw-select-input",{attrs:{"data-key":"meta_testKey",label:"data key","item-list":t.dataKeys}})],1),a("v-flex",{attrs:{xs4:""}},[a("vyw-text-input",{attrs:{"data-key":"meta_testValue",label:"data value"}})],1),a("v-flex",{attrs:{"px-1":""}},[a("v-btn",{on:{click:t.applyTest}},[t._v("Apply")])],1),a("v-flex",{attrs:{"px-1":""}},[a("v-btn",{on:{click:t.testTranslation}},[t._v("Test Translation")])],1)],1)],1)],1)],1)],1)],1)},Qe=[],Je=a("ade3");function Ze(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function ta(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ze(Object(a),!0).forEach((function(e){Object(Je["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ze(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var ea=!1,aa="production",ra={languages:{English:{upload:"French",nominal:"E"},Dutch:{upload:"Dutch",nominal:"L"},Spanish:{upload:"Spanish",nominal:"L"},Italian:{upload:"Italian",nominal:"L"},Finnish:{upload:"French",nominal:"E"},Swedish:{upload:"Swedish",nominal:"L"},French:{upload:"French",nominal:"L"},German:{upload:"German",nominal:"L"},Slovakian:{upload:"French",nominal:"E"},USA:{upload:"French",nominal:"E"},Norwegian:{upload:"French",nominal:"E"},"Portuguese CCU_N":{upload:"Portuguese",nominal:"L"},"Free1 CCU_N":{upload:"French",nominal:"E"},"Free2 CCU_N":{upload:"French",nominal:"E"}},batteryType:{None:"0",VO:"3","Ni CD (SBH-SBM)":"1","Ni CD (SBL)":"2","Ni CD (SPH)":"2","Ni CD (SLM)":"2","Sealed lead acid":"0","Open lead acid":"1"}};function ia(t,e,a){var r=Object(d["findInAgcFileStruct"])({object:t,attribute:e},tt.struct);if(null===r)return console.log("cannot locate ".concat(t,".").concat(e," in GCAUConfigurationData of agcFileData!")),null;var i=r.value;if(void 0!==a&&null!==a){r.value=a;var n="".concat(t,".").concat(r.readOnly?"!":"").concat(e,' = "').concat(a,'"');tt.lines[r.line-1]=n,"development"===aa&&ea&&console.log(n)}return i}function na(t,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object(d["findInAgcFileStruct"])({metaTag:t},tt.struct);if(null===r)return console.log("cannot locate $".concat(t," in GCAUConfigurationData of agcFileData!")),null;var i=r[0],n=r[r.length-1];if(void 0!==e&&null!==e){var l,s=e.split("\n").map((function(e){var a="$".concat(t,' = "').concat(e,'"');return"development"===aa&&ea&&console.log(a),a}));if(a)(l=tt.lines).splice.apply(l,[n.line,0].concat(Object(L["a"])(s))),tt.struct=Object(d["analyzeAgcFile"])(tt.lines);else i.value=e,tt.lines[i.line-1]=s[0]}return r}function la(t){return void 0===t&&console.log("Failure in call to function zeroOne!"),"true"===t.toLowerCase()?"1":"0"}function sa(t,e,a,r){var i=ia(e,a),n="true"===t;ia(e,a,S(n,r,i))}var oa=[],ca=[];function ua(t,e,a){if(void 0===a&&(a=["RelayNumber","NumberOfRelays","LedNumber"]),"string"===typeof e&&(e=parseInt(e,10)),e<1||e>16)return ia(t,a[0],"0"),ia(t,a[1],"1"),void ia(t,a[2],"0");var r="true"===P.meta_hasLedBox?e:0;e>8&&(e=0),"true"===P.meta_duplicatedRelays&&e>1&&(e=2*e-1),ia(t,a[0],e.toString()),e>0?(ia(t,a[1],"true"===P.meta_duplicatedRelays?"2":"1"),E(e,oa),"true"===P.meta_duplicatedRelays&&E(e+1,oa)):ia(t,a[1],"1"),r>0&&E(r,ca),ia(t,a[2],r.toString())}function da(t,e){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r="EVT_".concat(t);for(var i in void 0===e.Function&&(e.Function="OF"),void 0===e.LCDLatch&&(e.LCDLatch="0"),void 0===e.RelayLatch&&(e.RelayLatch="0"),void 0===e.Shutdown&&(e.Shutdown="0"),void 0===e.CommonAlarm&&(e.CommonAlarm="0"),void 0===e.RelayNumber&&(e.RelayNumber="0"),e)("Text"!==i&&"LocalText"!==i||"OF"!==e.Function||!a)&&("RelayNumber"===i?ua(r,"OF"===e.Function&&a?"0":e[i]):ia(r,i,e[i]));a&&sa("OF"===e.Function?"false":"true","SYSVAR","EventEnable",t-1)}function ma(){if(ea=!1,oa=[],ca=[],null!==tt.struct){if(na("ProjectName",P.Text_Nom),na("Origin",P.Text_Origine),na("Quotation",P.Text_Devis),na("Customer",P.Text_Client),na("Approved",la(P.Check_APP)),na("ApproveName",P.Edit_CONTROL),na("Order",P.Text_Commande),na("Project",P.Text_Projet),na("EndUser",P.Text_ClientFinal),na("IDNum",P.SystemId),na("VInterfCard","1"),0!=parseFloat(P.UacNom)){var t=parseFloat(P.Label_DEF_TDFLPETOT2)*parseFloat(P.IdcNom)/.8/.8/parseFloat(P.UacNom);t=Math.round(10*t)/10,na("InputCurrent",t.toString())}var e=!1,a=na("Notes");1===a.length&&0===a[0].value.trim().length&&(e=!0),na("Notes","Translated from a CCU configuration",!e),P.Edit_COMMENT.split("\n").forEach((function(t){na("Notes",t,!0)})),na("AmbTemp",(Math.round(10*P.Edit_ENV_TA)/10).toString()),na("MaxAltitude",Math.round(P.Edit_ENV_ALT).toString()),na("DerateTemp",(-parseFloat(P.Label_Derating_temp)).toString()),na("DerateAltitude",(-parseFloat(P.Label_Derating_ALT)).toString()),na("Lang2Ctrl",ra.languages[P.Language].upload),ia("NOMINAL","Language",ra.languages[P.Language].nominal),ia("REGISTRY","LocalLanguage",ra.languages[P.Language].upload),ia("SYSVAR","MenuGroupEnable","2B3F"),ia("SYSVAR","MenuGroupEnable","2B3F"),ia("SYSVAR","BatteryMenuEnable","001F"),ia("SYSVAR","NominalSetMenuEnable","0067"),ia("SYSVAR","MeterMenuEnable","3F"),ia("SYSVAR","HighrateMenuEnable","11FF"),ia("SYSVAR","CommissionMenuEnable","001F"),ia("SYSVAR","ManualAdjustMenuEnable","0F"),ia("SYSVAR","VOApplicationMenuEnable","7F"),ia("SYSVAR","BattTestMenuEnable","027FF"),ia("SYSVAR","CompensationMenuEnable","0F"),ia("SYSVAR","CommunicationMenuEnable","17"),ia("SYSVAR","PasswordMenuEnable","03"),ia("SYSVAR","MeterEnable","07"),ia("SYSVAR","SuperUserMenus","7FFF");for(var r=1;r<=32;r++)switch(r){case 23:da(r,{Function:"AL"});break;case 24:da(r,{Function:"AL",LCDLatch:"1"});break;case 30:da(r,{Function:"AL",Delay:"20"});break;default:da(r,{Function:"OF"});break}na("Frequency",P.Combo_RN_FREQ),na("InrushCurrent",P.Edit_RN_CN);var i=.1/parseFloat(P.RectShuntVal);ia("SYSTEM","ChargerShunt",Math.round(1e6*i).toString()),ia("SYSTEM","RectShuntVolt","100");var n="3"===P.Combo_RN_NDP?"TPRe":"SPRe";ia("PID","Mode","3"===P.Combo_RN_NDP?"TS":"SS");var l=P.Combo_RN_UDC,s=P.IdcNom;ia("NOMINAL","ChargerCurrent",T(s,10)),ia("SYSTEM","VoltageInRange",l),ia("SYSTEM","MaxCurrent",T(s,10));var o=1.4*parseFloat(s)*parseFloat(l);ia("SYSTEM","MaxPower",T(.1*o)),ia("NOMINAL","OutputPower",T(.1*o)),na("CstmChgName","".concat(l,"V ").concat(n," ").concat(s,"A")),ia("HIGHVOLT","ExternalDividers",parseInt(l,10)>=200?"1":"0"),ia("HIGHVOLT","UNomDivider","200"),ia("HIGHVOLT","UProtDivider","200"),ia("HIGHVOLT","EFAlpha","1453"),ia("HIGHVOLT","EFBeta","1219"),ia("HIGHVOLT","EFGamma","884"),ia("HIGHVOLT","EFR3","0"),ia("HIGHVOLT","VLvdDivider","200"),ia("NOMINAL","ACVolts",T(P.UacNom,10)),sa(P.AcMeter,"SYSVAR","MeterEnable",0),sa(P.AhMeterDisplay,"SYSVAR","MeterEnable",2),ia("MANADJ","ManualCurrentAdjustment",la(P.ManCurrAdjust)),ia("MANADJ","ManualVoltageAdjustment",la(P.ManVoltAdjust)),ia("MANADJ","LowerLimit",T(P.VoltAdjustMin,10)),ia("MANADJ","UpperLimit",T(P.VoltAdjustMax,10)),na("VLowLimit",P.Edit_DC_VMINDLT),na("VHighLimit",P.Edit_DC_VMAXDLT),na("IPeak",P.Edit_DC_PDC),na("IPeakDur",P.Edit_DC_DDLPDC),na("ILoadMOff",P.Edit_DC_CURA),na("ILoadMOn",P.Edit_DC_CURP),ia("BATTSEL","BatteryType",ra.batteryType[P.Combo_DEF_TDB]);var c="VO"===P.Combo_DEF_TDB;na("BattSubType",P.Combo_DEF_TDB),na("BatteryName",P.Edit_BattName);var u=parseInt(P.NrOfCells,10);ia("BATTSEL","NumberOfElements",P.NrOfCells),na("BattnBCells",P.NrOfCells);var d=parseFloat(P.BattCapacity);ia("BATTSEL","Capacity",P.BattCapacity),na("ShortCircuitCurrent",P.Edit_DEF_CDCC),ia("NOMINAL","FloatVolts",T(P.UflPerCell,10*u)),ia("REGCOMP","TemperatureCompensation","true"===P.TempComp?T(P.CompPerC,100):"0"),ia("SYSTEM","TempCompOnBattSens","0"),sa(P.meta_displayAmbientTemperature,"SYSVAR","MeterEnable",3),sa(P.meta_displayBatteryTemperature,"SYSVAR","MeterEnable",4);var m="true"===P.BattShunt?.1/parseFloat(P.BattShuntVal):0;if(ia("SYSTEM","BatteryShunt",Math.floor(1e6*m).toString()),ia("SYSTEM","BattShuntVolt","100"),ia("SYSTEM","InRevPol","0000"),ia("NOMINAL","BatteryCurrent",T(P.IbattNom,10)),ia("NOMINAL","HighrateVolts",T(P.UhrPerCell,10*u)),ia("HIGHRATE","TimerMode","1"===P.ChrgTimerMode?"D":"P"),ia("HIGHRATE","ManualHighrate",la(P.ManHrEnable)),ia("HIGHRATE","Periodic","None"===P.PeriodicHr?"0":P.PeriodicHr),ua("HIGHRATE",P.HrRelayOutput,["RelayNb","NumberOfRelays","LedNb"]),ia("HIGHRATE","OnCurrentLimit","true"===P.ClHrEnable?P.ClHrTime:"0"),ia("HIGHRATE","OnMainsFail","true"===P.MfHrEnable?P.MfHrTime:"0"),ia("HIGHRATE","OnAhDrop","0"),ia("HIGHRATE","Timer",T(P.ChargeTime,60)),ia("BATTSEL","FanDelay",T(P.BattFanDelay,60)),ua("BATTSEL",P.HrRelayOutput,["FanRelayNb","FanNumberOfRelays","FanLedNb"]),ia("VOAPPL","AmbTempTimeConstant","480"),ia("VOAPPL","AhMinDetection","0"),ia("VOAPPL","dTMin",T(P.DTmin)),ia("VOAPPL","dTMax",T(P.DTmax)),ia("VOAPPL","BattCurrentDetection",T(P.IbattLow,10)),ia("VOAPPL","Timer",T(P.VoChargeTime,60)),c){var h=parseFloat(P.IbattLow);sa("true","SYSVAR","MenuGroupEnable",6);var p=3*(d/h+parseFloat(P.VoChargeTime));p>36&&(p=36),ia("VOAPPL","SecurityTimer",(60*p).toString()),na("Notes","Warning: VO security timer arbitrary set at ".concat(p," hour").concat(1!==p?"s":"","! Okay with this?"),!0)}ia("COMMISS","Manual","true"===P.CommEnable?"1":"0"),ua("COMMISS",P.CommRelayOutput,["RelayNb","NumberOfRelays","LedNb"]),ia("COMMISS","Voltage",T(P.UcommPerCell,10*u)),ia("COMMISS","Current",T(P.CommCurrent,10)),ia("COMMISS","Duration",T(P.CommTime,60));var f="true"===P.BattTestEnable;ia("BATTTEST","BatteryTestActive",f?"1":"0"),ia("BATTTEST","Periodic",f?P.AutoTestPeriod:"0"),ia("BATTTEST","DischargeCurrent",T(P.IbattNom,5)),ia("BATTTEST","Percentage",T(P.DischrgPercent)),ia("BATTTEST","EndVoltage",T(P.TestEndVoltage,10)),f&&(sa("true","SYSVAR","MenuGroupEnable",7),na("Notes","Warning: battery test enabled! Behavior from CCU may differ. Review settings & discuss with end user.",!0));var v=la(P.CM_Enabled),b={LCDLatch:la(P.MF_LcdLatch),RelayLatch:la(P.MF_RelayLatch),Shutdown:la(P.MfShtdnEnable),CommonAlarm:v,RelayNumber:P.MF_RelayOutput,Delay:P.MF_Delay};if("true"===P.MF_Enabled){var y=ta(ta({},b),{},{Function:"AL"});da(1,ta(ta({},y),{},{Value:T(P.MF_UpperLimit,10)})),da(2,ta(ta({},y),{},{Value:T(P.MF_LowerLimit,10)}))}else{var _=ta(ta({},b),{},{Function:"OF"});da(1,ta(ta({},_),{},{Value:T(P.MF_UpperLimit,10)})),da(2,ta(ta({},_),{},{Value:T(P.MF_LowerLimit,10)}))}var C={LCDLatch:la(P.HC_LcdLatch),RelayLatch:la(P.HC_RelayLatch),Shutdown:la(P.HvShtdnEnable),CommonAlarm:v,RelayNumber:P.HC_RelayOutput,Delay:P.HC_Delay,Value:T(P.HC_UpperLimit,10)};da(4,ta(ta({},C),{},{Function:"true"===P.HC_Enabled?"AL":"OF"}));var g={LCDLatch:la(P.LC_LcdLatch),RelayLatch:la(P.LC_RelayLatch),Shutdown:"0",CommonAlarm:v,RelayNumber:P.LC_RelayOutput,Delay:P.LC_Delay,Value:T(P.LC_LowerLimit,10)};da(5,ta(ta({},g),{},{Function:"true"===P.LC_Enabled?"AL":"OF"}));var L={LCDLatch:la(P.HD_LcdLatch),RelayLatch:la(P.HD_RelayLatch),Shutdown:"0",CommonAlarm:v,RelayNumber:P.HD_RelayOutput,Delay:P.HD_Delay,Value:T(P.HD_UpperLimit,10)};da(6,ta(ta({},L),{},{Function:"true"===P.HD_Enabled?"AL":"OF"}));var x={LCDLatch:la(P.LD_LcdLatch),RelayLatch:la(P.LD_RelayLatch),Shutdown:"0",CommonAlarm:v,RelayNumber:P.LD_RelayOutput,Delay:P.LD_Delay,Value:T(P.LD_LowerLimit,10)};da(7,ta(ta({},x),{},{Function:"true"===P.LD_Enabled?"AL":"OF"}));var N={LCDLatch:la(P.RF_LcdLatch),RelayLatch:la(P.RF_RelayLatch),Shutdown:la(P.RfShtdnEnable),CommonAlarm:v,RelayNumber:P.RF_RelayOutput,Delay:P.RF_Delay};da(3,ta(ta({},N),{},{Function:"true"===P.RF_Enabled?"AL":"OF"}));var D=T(P.meta_earthFaultThreshold,parseFloat(l)/100),w={LCDLatch:la(P.EFP_LcdLatch),RelayLatch:la(P.EFP_RelayLatch),Shutdown:"0",CommonAlarm:v,RelayNumber:P.EFP_RelayOutput,Delay:P.EFP_Delay,Value:D};da(8,ta(ta({},w),{},{Function:"true"===P.EFP_Enabled?"AL":"OF"}));var S={LCDLatch:la(P.EFM_LcdLatch),RelayLatch:la(P.EFM_RelayLatch),Shutdown:"0",CommonAlarm:v,RelayNumber:P.EFM_RelayOutput,Delay:P.EFM_Delay,Value:D};da(9,ta(ta({},S),{},{Function:"true"===P.EFM_Enabled?"AL":"OF"}));var E={LCDLatch:la(P.S1_LcdLatch),RelayLatch:la(P.S1_RelayLatch),Shutdown:"0",CommonAlarm:v,RelayNumber:P.S1_RelayOutput,Delay:P.S1_Delay,Value:"0",Text:P.S1_Text,LocalText:P.S1_Text};da(10,ta(ta({},E),{},{Function:"true"===P.S1_Enabled?"AL":"OF"}));var F={LCDLatch:la(P.S2_LcdLatch),RelayLatch:la(P.S2_RelayLatch),Shutdown:"0",CommonAlarm:v,RelayNumber:P.S2_RelayOutput,Delay:P.S2_Delay,Value:"0",Text:P.S2_Text,LocalText:P.S2_Text};da(11,ta(ta({},F),{},{Function:"true"===P.S2_Enabled?"AL":"OF"}));var A={LCDLatch:la(P.S3_LcdLatch),RelayLatch:la(P.S3_RelayLatch),Shutdown:"0",CommonAlarm:v,RelayNumber:P.S3_RelayOutput,Delay:P.S3_Delay,Value:"0",Text:P.S3_Text,LocalText:P.S3_Text};da(12,ta(ta({},A),{},{Function:"true"===P.S3_Enabled?"AL":"OF"}));var O={LCDLatch:la(P.S4_LcdLatch),RelayLatch:la(P.S4_RelayLatch),Shutdown:"0",CommonAlarm:v,RelayNumber:P.S4_RelayOutput,Delay:P.S4_Delay,Value:"0",Text:P.S4_Text,LocalText:P.S4_Text};da(13,ta(ta({},O),{},{Function:"true"===P.S4_Enabled?"AL":"OF"}));var I={LCDLatch:la(P.HT_LcdLatch),RelayLatch:la(P.HT_RelayLatch),Shutdown:"0",CommonAlarm:v,RelayNumber:P.HT_RelayOutput,Delay:P.HT_Delay};da(22,ta(ta({},I),{},{Function:"true"===P.HT_Enabled?"AL":"OF"}));var M={LCDLatch:la(P.HB_LcdLatch),RelayLatch:la(P.HB_RelayLatch),Shutdown:"0",CommonAlarm:v,RelayNumber:P.HB_RelayOutput,Delay:P.HB_Delay,Value:T(P.HB_UpperLimit,10)};da(21,ta(ta({},M),{},{Function:"true"===P.HB_Enabled?"AL":"OF"}));var R={LCDLatch:la(P.HR_LcdLatch),RelayLatch:la(P.HR_RelayLatch),Shutdown:"0",CommonAlarm:v,RelayNumber:P.HR_RelayOutput,Delay:P.HR_Delay,Value:T(P.HR_UpperLimit,10)};da(20,ta(ta({},R),{},{Function:"true"===P.HR_Enabled?"AL":"OF"})),[{cmd:"FF",select:P.meta_forcedFloatInput},{cmd:"HC",select:P.meta_highrateInput},{cmd:"CC",select:P.meta_commissioningInput},{cmd:"AA",select:P.meta_alarmAcknowledgmentInput}].forEach((function(t,e){var a,r=t.cmd,i=t.select,n="INPUT X9.".concat(e+1);"CC"===r?i!==j.commissioningInput[3]&&i!==j.commissioningInput[4]||(r="AL",n="COMMISS.",a=i===j.commissioningInput[4]?"true":"false"):a=i===j.commissioningInput[2]?"true":"false",da(e+14,{LCDLatch:"0",RelayLatch:"0",Shutdown:"0",CommonAlarm:"0",RelayNumber:"0",Delay:"1",Text:n,LocalText:n,Function:i===j.spareInputs[0]?"OF":r},!1),sa(a,"SYSTEM","InRevPol",e+4),sa("true","SYSVAR","EventEnable",e+13),"AL"===r&&sa("true","SYSVAR","CommissionMenuEnable",8),ia("COMMISS","AllowedFromSpare","AL"===r?"7":"0")})),ia("SYSTEM","ShutdownInput",la(P.meta_shutdownThermostat)),P.meta_hasLedBox&&ca.length>0?(na("Notes","Has one LED box with LEDs: ".concat(V(ca)),!0),na("NbLEDCards","1")):na("NbLEDCards","0"),oa.length>0?("true"===P.meta_duplicatedRelays&&na("Notes","Relays are duplicated (1=>1~2, 2=>3~4,... 8=>15~16)!",!0),na("NbRelayCards",oa.some((function(t){return t>8}))?"2":"1"),na("Notes","Used relays: ".concat(V(oa)),!0)):na("NbRelayCards","0")}else console.log("Attempt to call translateCcu2gcau on invalid agcFileData!")}var ha={components:{VywTextInput:St,VywSelectInput:me},data:function(){return{dataKeys:H}},methods:{applyTest:function(){P[P.meta_testKey]=P.meta_testValue,console.log("new value for ".concat(P.meta_testKey,"=> ").concat(P.meta_testValue))},dataKeySelected:function(t){P["meta_testValue"]=P[t]},testTranslation:function(){ma()}},created:function(){B.$on("item-should-update",(function(t){P[t.dataKey]!==t.value&&(P[t.dataKey]=t.value),!1===t.dataKey.startsWith("meta_")&&(P["meta_testKey"]=t.dataKey,P["meta_testValue"]=t.value)})),P.$watchers["meta_testKey"].push(this.dataKeySelected.bind(this))},beforeDestroy:function(){N(this.dataKeySelected.bind(this),P.$watchers["meta_testKey"])}},pa=ha,fa=a("8336"),va=a("cc20"),ba=a("549c"),ya=Object(vt["a"])(pa,ze,Qe,!1,null,"363698e6",null),_a=ya.exports;yt()(ya,{VBtn:fa["a"],VCard:Pt["a"],VChip:va["a"],VContainer:Bt["a"],VContent:ba["a"],VFlex:jt["a"],VLayout:$t["a"]});var Ca={components:{VywAdmin:Yt,VywSystem:be,VywBattery:ke,VywAlarms:qe,VywReactTest:_a},data:function(){return{menuItemSelected:void 0,headerHeight:void 0,tabBarHeight:void 0,tabBarInitialLeftOffset:void 0,contentInitialLeftOffset:void 0,tabBarDynamicLeftOffset:void 0,isScrolledDown:!1,tabBarFixed:!1,tdsFileName:"",contentsAltered:!1,agcFileName:null,agcFileErrorDialog:!1,agcErrorDetails:"??",nodeEnv:"production",applicationVersion:I}},methods:{menuItemSelect:function(t){this.menuItemSelected=t},onWindowScroll:function(){var t=document.documentElement.scrollHeight,e=window.innerHeight,a=window.scrollY;this.tabBarFixed=a>this.headerHeight,t-e>this.headerHeight?this.isScrolledDown=a>2:0===a&&(this.isScrolledDown=!1)},updateTabBarPosition:function(){this.tabBarDynamicLeftOffset=this.tabBarInitialLeftOffset+this.$refs["contentFrame"].getBoundingClientRect().left-this.contentInitialLeftOffset},loadTds:function(t){var e=this,a=t.target.files[0];if(a){var r=new FileReader,i=/.P0$/i.test(a.name),n=/.APP$/i.test(a.name);i?r.readAsArrayBuffer(a):r.readAsText(a),r.onload=function(t){var r=t.target.result;e.tdsFileName=a.name,W(a.name),i?lt(r):n?ut(r):Z(r),e.contentsAltered=!1}}},loadAgc:function(t){var e=this,a=t.target.files[0];if(a){var r=new FileReader;r.readAsText(a),r.onload=function(t){var r=t.target.result;et(r),null===tt.lines?(e.agcFileErrorDialog=!0,e.agcFileName=null,tt.error.explicit?e.agcErrorDetails="Error at line ".concat(tt.error.line,": ").concat(tt.error.explicit):e.agcErrorDetails="Unexpected error: ".concat(tt.error)):e.agcFileName=a.name}}},saveOutputFile:function(){var t=W(null),e="true"===P.Check_APP?"_APP.agc":"_NAP.agc",a=t.shortFileName.length?"".concat(t.shortFileName).concat(e):this.agcFileName;ma();var r=tt.lines.reduce((function(t,e){return t+"".concat(e,"\r\n")}),"");h()(r,a,"text/plain"),tt.lines=tt.refLines.map((function(t){return t})),tt.struct=Object(d["analyzeAgcFile"])(tt.lines)},saveTdsFile:function(){var t=W(null),e=J(),a=t.shortFileName.length?t.shortFileName:"unknown",r="true"===P.Check_APP?"tdsa":"tdsn";h()(e,"".concat(a,".").concat(r),"text/plain"),this.contentsAltered=!1}},created:function(){var t=this;B.$on("item-should-update",(function(e){var a=void 0===R[e.dataKey]?e.dataKey:R[e.dataKey],r=!1===a.startsWith("meta_");P[a]!==e.value&&(P[a]=e.value,r&&(t.contentsAltered=!0)),r&&(P["meta_testKey"]=e.dataKey,P["meta_testValue"]=e.value)}))},mounted:function(){this.headerHeight=this.$refs["header"].offsetHeight,this.tabBarHeight=this.$refs["tabBar"].offsetHeight,this.tabBarInitialLeftOffset=this.$refs["tabBar"].getBoundingClientRect().left,this.tabBarDynamicLeftOffset=this.tabBarInitialLeftOffset,this.contentInitialLeftOffset=this.$refs["contentFrame"].getBoundingClientRect().left,this.updateTabBarPosition(),window.addEventListener("scroll",this.onWindowScroll),window.addEventListener("resize",this.updateTabBarPosition)},destroyed:function(){window.removeEventListener("scroll",this.onWindowScroll),window.removeEventListener("resize",this.updateTabBarPosition)}},ga=Ca,La=(a("9d13"),a("169a")),xa=a("9910"),Na=a("71a3"),Da=a("c671"),Ta=a("fe57"),wa=a("71d9"),Sa=a("2a7f"),Ea=Object(vt["a"])(ga,c,u,!1,null,"324f898a",null),Va=Ea.exports;yt()(Ea,{VBtn:fa["a"],VCard:Pt["a"],VCardActions:Ht["a"],VCardText:Ht["b"],VCardTitle:fe["a"],VContainer:Bt["a"],VDialog:La["a"],VFlex:jt["a"],VLayout:$t["a"],VSpacer:xa["a"],VTab:Na["a"],VTabItem:Da["a"],VTabs:Ta["a"],VToolbar:wa["a"],VToolbarTitle:Sa["a"]});var Fa={name:"App",components:{mainContents:Va}},Aa=Fa,Oa=a("7496"),Ia=Object(vt["a"])(Aa,s,o,!1,null,"9eceb3aa",null),Ma=Ia.exports;function Ra(){new r["a"]({render:function(t){return t(Ma)}}).$mount("#app")}yt()(Ia,{VApp:Oa["a"],VContent:ba["a"]}),r["a"].config.productionTip=!1},"7eff":function(t,e,a){"use strict";a("f7f7")},"89fc":function(t,e,a){"use strict";a("450c")},"95ad":function(t,e,a){},"9d13":function(t,e,a){"use strict";a("bbea")},bbea:function(t,e,a){},d937:function(t,e,a){},f7f7:function(t,e,a){}});