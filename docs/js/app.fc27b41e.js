(function(t){function e(e){for(var r,l,s=e[0],o=e[1],c=e[2],d=0,m=[];d<s.length;d++)l=s[d],Object.prototype.hasOwnProperty.call(n,l)&&n[l]&&m.push(n[l][0]),n[l]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);u&&u(e);while(m.length)m.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],r=!0,s=1;s<a.length;s++){var o=a[s];0!==n[o]&&(r=!1)}r&&(i.splice(e--,1),t=l(l.s=a[0]))}return t}var r={},n={app:0},i=[];function l(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=t,l.c=r,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)l.d(a,r,function(e){return t[e]}.bind(null,r));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/ccu-gcau-1/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=o;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"2d1b":function(t,e,a){"use strict";a("5b20")},"3a5f":function(t,e,a){"use strict";a("95ad")},4718:function(t,e,a){},"4cde":function(t,e,a){"use strict";a("d937")},"56d7":function(t,e,a){"use strict";a.r(e),a.d(e,"initVue",(function(){return Ba}));a("cadf"),a("551c"),a("f751"),a("097d");var r=a("2b0e"),n=(a("744f"),a("6c7b"),a("7514"),a("20d6"),a("e956"),a("1c4c"),a("6762"),a("e804"),a("d04f"),a("c8ce"),a("217b"),a("7f7f"),a("f400"),a("7f25"),a("536b"),a("d9ab"),a("f9ab"),a("32d7"),a("25c9"),a("9f3c"),a("042e"),a("c7c6"),a("f4ff"),a("049f"),a("7872"),a("a69f"),a("0b21"),a("6c1a"),a("c7c62"),a("84b4"),a("c5f6"),a("2e37"),a("fca0"),a("7cdf"),a("ee1d"),a("b1b1"),a("87f3"),a("9278"),a("5df2"),a("04ff"),a("4504"),a("fee7"),a("ffc1"),a("0d6d"),a("9986"),a("8e6e"),a("25db"),a("e4f7"),a("b9a1"),a("64d5"),a("9aea"),a("06db"),a("db97"),a("66c8"),a("57f0"),a("165b"),a("456d"),a("cf6a"),a("8615"),a("df1b"),a("2397"),a("88ca"),a("ba16"),a("d185"),a("ebde"),a("2d34"),a("f6b3"),a("2251"),a("c698"),a("a19f"),a("9253"),a("9275"),a("3b2b"),a("3846"),a("4917"),a("a481"),a("28a5"),a("386d"),a("6b54"),a("4f7f"),a("8a81"),a("ac4d"),a("8449"),a("9c86"),a("fa83"),a("48c0"),a("a032"),a("aef6"),a("d263"),a("6c37"),a("9ec8"),a("5695"),a("2fdb"),a("d0b0"),a("5df3"),a("b54a"),a("f576"),a("ed50"),a("788d"),a("14b9"),a("f386"),a("f559"),a("1448"),a("673e"),a("242a"),a("23be"),a("7c0e"),a("c66f"),a("b05c"),a("34ef"),a("6aa2"),a("15ac"),a("af56"),a("b6e4"),a("9c29"),a("63d9"),a("4dda"),a("10ad"),a("c02b"),a("4795"),a("130f"),a("ac6a"),a("96cf"),a("bb71")),i=(a("da64"),a("c0a4")),l=a.n(i);r["a"].use(n["a"],{theme:{primary:l.a.purple,secondary:l.a.blue,accent:l.a.shades.black,error:l.a.red.accent3}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-content",[a("main-contents")],1)],1)},o=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{class:{"py-0":t.isScrolledDown},attrs:{"px-0":""}},[a("v-layout",{attrs:{"justify-center":""}},[a("v-flex",{attrs:{xs12:"",lg11:"",xl7:""}},[a("div",{ref:"header",class:{headerMargin:!t.isScrolledDown}},[a("v-toolbar",{staticClass:"lime lighten-5"},[a("v-toolbar-title",{staticClass:"headline text-uppercase"},[a("span",[t._v("CCU>GCAU")]),a("span",{staticClass:"font-weight-light"},[t._v("Config. translator")]),a("span",{staticClass:"caption text-lowercase"},[t._v(" - v"+t._s(t.applicationVersion))])])],1),a("v-container",{staticClass:"lime lighten-5",class:{hide:t.isScrolledDown},attrs:{"pa-0":""}},[a("v-layout",{attrs:{"justify-center":""}},[a("v-flex",{attrs:{xs2:""}},[a("v-btn",{attrs:{small:""},on:{click:function(e){return t.$refs.inputTds.click()}}},[t._v("Load")]),a("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"inputTds",attrs:{type:"file",accept:".tdsa, .tdsn, .P0, .APP"},on:{change:t.loadTds}})],1),a("v-flex",{attrs:{xs2:""}},[a("v-btn",{attrs:{small:""},on:{click:function(e){return t.$refs.inputAgc.click()}}},[t._v("Load AGC")]),a("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"inputAgc",attrs:{type:"file",accept:".agc"},on:{change:t.loadAgc}})],1),a("v-flex",{attrs:{xs2:""}},[a("v-btn",{attrs:{small:"",disabled:null===t.agcFileName},on:{click:function(e){return t.saveOutputFile()}}},[t._v("Save AGC")])],1),a("v-flex",{attrs:{xs2:""}},[a("v-btn",{attrs:{small:""},on:{click:function(e){return t.saveTdsFile()}}},[t._v("Save TDS")])],1)],1)],1)],1),a("div",{ref:"tabBar",class:{tabBarFixed:t.tabBarFixed},style:{left:t.tabBarDynamicLeftOffset+"px"}},[a("v-tabs",{on:{change:t.menuItemSelect}},[a("v-tab",[t._v("Admin")]),a("v-tab",[t._v("System")]),a("v-tab",[t._v("Battery")]),a("v-tab",[t._v("Alarms")])],1)],1),a("div",{class:{hide:!t.tabBarFixed}},[a("v-tabs",[a("v-tab"),a("v-tab"),a("v-tab")],1)],1),a("div",{ref:"contentFrame"},[a("v-tabs",{attrs:{height:"0"},model:{value:t.menuItemSelected,callback:function(e){t.menuItemSelected=e},expression:"menuItemSelected"}},[a("v-tab"),a("v-tab"),a("v-tab"),a("v-tab"),a("v-tab-item",[a("vyw-admin",{attrs:{tdsFileName:t.tdsFileName,contentsAltered:t.contentsAltered}})],1),a("v-tab-item",[a("vyw-system")],1),a("v-tab-item",[a("vyw-battery")],1),a("v-tab-item",[a("vyw-alarms")],1)],1),"development"===t.nodeEnv?a("span",[a("vyw-react-test")],1):t._e()],1)]),a("v-dialog",{attrs:{"max-width":"400"},model:{value:t.agcFileErrorDialog,callback:function(e){t.agcFileErrorDialog=e},expression:"agcFileErrorDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("AGC File Error")]),a("v-card-text",[t._v(t._s(t.agcErrorDetails))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(e){t.agcFileErrorDialog=!1}}},[t._v("OK")]),a("v-spacer")],1)],1)],1)],1)],1)},u=[],d=a("a92a"),m=a("aeb1"),h=a.n(m),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-container",{attrs:{"pt-3":""}},[a("v-layout",{attrs:{"text-xs-center":"","align-content-center":"",wrap:""}},[a("v-flex",{attrs:{"px-1":""}},[a("v-container",{attrs:{"pa-0":""}},[a("v-layout",{attrs:{column:""}},[a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.tdsFileName.length>0,expression:"tdsFileName.length>0"}],attrs:{"pb-3":"","text-xs-left":"","pl-0":""}},[a("v-card",{staticClass:"black--text",attrs:{color:"blue-grey lighten-4"}},[a("v-card-text",{staticClass:"pl-2 elevation-6"},[a("span",{staticClass:"font-italic"},[t._v("Imported file:")]),t._v(" "),a("span",{staticClass:"body-2 blue-grey--text text-darken-4"},[t._v(t._s(t.tdsFileName))]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.contentsAltered,expression:"contentsAltered"}]},[t._v(" "),a("v-icon",{attrs:{small:""}},[t._v("star")]),a("v-icon",{attrs:{small:""}},[t._v("star")])],1)])],1)],1),a("v-flex",[a("vyw-text-input",{attrs:{"data-key":"Text_Nom",label:"Name",hint:"Project manager"}})],1),a("v-flex",[a("vyw-text-input",{attrs:{"data-key":"Text_Origine",label:"Origin"}})],1),a("v-flex",[a("vyw-text-input",{attrs:{"data-key":"Text_Devis",label:"Quotation"}})],1),a("v-flex",[a("vyw-text-input",{attrs:{"data-key":"Text_Client",label:"Customer"}})],1),a("v-flex",[a("div",{staticClass:"d-flex"},[a("div",[a("vyw-switch",{attrs:{"data-key":"Check_APP",labels:["Not approved","Approved"]}})],1),a("div",[a("vyw-text-input",{attrs:{"data-key":"Edit_CONTROL",label:"Approver"}})],1)])])],1)],1)],1),a("v-flex",{attrs:{xs12:"",sm6:"","px-1":""}},[a("v-container",{attrs:{"pa-0":""}},[a("v-layout",{attrs:{column:""}},[a("v-flex",[a("v-flex",[a("vyw-text-input",{attrs:{"data-key":"Text_Commande",label:"Order"}})],1),a("v-flex",[a("vyw-text-input",{attrs:{"data-key":"Text_Projet",label:"Project"}})],1),a("v-flex",[a("vyw-text-input",{attrs:{"data-key":"Text_ClientFinal",label:"End user"}})],1),a("v-flex",[a("vyw-text-input",{attrs:{"data-key":"SystemId",label:"Identification number"}})],1),a("vyw-text-area",{attrs:{"data-key":"Edit_COMMENT",label:"Notes",hint:"project notes/comments"}})],1)],1)],1)],1)],1)],1)],1)],1)},f=[],v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-textarea",{attrs:{label:t.label,hint:t.hint,"no-resize":!0,box:""},on:{change:t.changed},model:{value:t.editedValue,callback:function(e){t.editedValue=e},expression:"editedValue"}})},b=[],y=a("bc3a"),C=a.n(y),_=a("1b3b"),g=a.n(_),N=a("2909"),L=a("53ca");function x(t,e){for(var a=0;a<e.length;a++)if(e[a]===t)return e.splice(a,1),!0;return!1}function S(t,e){var a=Math.pow(10,e);return(Math.round(a*t)/a).toString()}function T(t,e){var a="string"===typeof t?parseFloat(t):t;switch(isNaN(a)&&(a=0),Object(L["a"])(e)){case"number":a*=e;break;case"string":a*=parseFloat(e);break;case"function":a=e(a);break}return Math.round(a).toString()}function w(t,e){return"function"!==typeof e&&(e=function(t){return t}),Object(N["a"])(Array(t)).map((function(t,a){return e(a)}))}function D(t,e,a){if("number"!==typeof e||"string"!==typeof a||!1===/^[0-9A-F]+$/.test(a))return null;var r=a.length-Math.floor(e/4)-1;if(r<0||r>=a.length)return null;var n=1<<e%4,i=parseInt(a.substring(r,r+1),16)&~n;return t&&(i|=n),"".concat(a.substring(0,r)).concat(i.toString(16).toUpperCase()).concat(a.substring(r+1))}function E(t,e){t=Math.round(t),-1===e.indexOf(t)&&(e.push(t),e.sort((function(t,e){return parseInt(t,10)-parseInt(e,10)})))}function F(t){for(var e,a="",r=!1,n=0;n<t.length;n++)0===n?a=t[n].toString():t[n]===e+1?(!1===r&&(a+="~",r=!0),n===t.length-1&&(a+=t[n].toString())):r?(a+="".concat(e,";").concat(t[n]),r=!1):a+=";".concat(t[n]),e=t[n];return a}function V(){var t=new ArrayBuffer(4),e=new Float32Array(t);e[0]=1024.25;for(var a=new Uint8Array(t),r={68:3,128:2,8:1,0:0},n=new Array(4),i=0;i<4;i++)n[i]=r[a[i]];return n}var O=V();function A(t,e,a){return e>=Math.min(t,a)&&e<=Math.max(t,a)}function M(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.round,a=Math.sign(t);if(t=Math.abs(t),t<1)return e(t)*a;var r=Math.log10(t),n=Math.pow(10,Math.trunc(r));return e(t/n)*n*a}function I(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7.5,a=1;if("string"===typeof t&&(t=parseFloat(t)),!isNaN(t)||t>0){var r=t*e;return r<1?a:M(r,Math.ceil)}return a}var R="0.9.12",k={},P={},H={},B=new g.a,j=[],U=new r["a"]({methods:{dataChanged:function(t){this.$emit("item-should-update",t)}}}),$={languages:["English","Dutch","Spanish","Italian","Finnish","Swedish","French","German","Slovakian","USA","Norwegian","Portuguese CCU_N","Free1 CCU_N","Free2 CCU_N"],relayNumbers:w(17,(function(t){return t.toString()})),hrPeriodicTimes:["None","1","6","12"],spareInputs:["no","active low","active high"],commissioningInput:["no","active low","active high","allowed low","allowed high"],extendedLocalMenu:["don't extend","extend"],communicationType:["None","WinSparc","2-wire RTU-Modbus","NCS (ASCII-Modbus+SPG)"]},K=!1;function Y(){!1===K&&(Object.keys(k).forEach((function(t){H[t]=null,B.addProperty(H,t);var e=k[t].SetupParam;!1===e.startsWith("x--")&&e!==t&&(B.addProperty(H,t,e),P[e]=t,j.push(e)),j.push(t)})),K=!0)}var G={testKey:"Text_Projet",testValue:"???",hasLedBox:null,duplicatedRelays:null,earthFaultThreshold:null,shutdownThermostat:null,forcedFloatInput:null,highrateInput:null,commissioningInput:null,alarmAcknowledgmentInput:null,displayAmbientTemperature:null,displayBatteryTemperature:null,extendedLocalMenu:null,communicationType:null};function W(){function t(t,e){B["meta_".concat(t)]=e,B.$watchers["meta_".concat(t)].push(Z)}t("hasLedBox","false"),t("duplicatedRelays","false"),t("earthFaultThreshold","250"),t("shutdownThermostat","false"),t("forcedFloatInput",$.spareInputs[0]),t("highrateInput",$.spareInputs[0]),t("commissioningInput",$.commissioningInput[0]),t("alarmAcknowledgmentInput",$.spareInputs[0]),t("displayAmbientTemperature","false"),t("displayBatteryTemperature","false"),t("extendedLocalMenu",$.extendedLocalMenu[0]),t("communicationType",$.communicationType[0])}var X={fullFileName:"",shortFileName:"",extension:""};function q(){function t(t){return e.indexOf(t)>=0}var e=B.Combo_DEF_TDB.toLowerCase();return t("vo")||t("ni")||t("cd")?5:t("lead")||t("acid")?10:7.5}function z(t){if("string"===typeof t){var e=/^(.*)(\..*)$/.exec(t);null!==e?(X.fullFileName=e[0],X.shortFileName=e[1],X.extension=e[2]):(X.fullFileName=t,X.shortFileName=t,X.extension="")}return X}Object.keys(G).forEach((function(t){B.addProperty(G,t,"meta_".concat(t))})),W();var Q=/[ ]*{meta}\n((?:.|\n)*){\/meta}\n?/;function J(){var t=B.Edit_COMMENT.match(Q);if(null!==t){var e=t[1].split("\n");e.forEach((function(t){var e=t.match(/\$(\S+)\s*=\s*'(.*)'/);null!==e&&(B["meta_".concat(e[1])]=e[2])}))}return null!==t}function Z(){if("string"===typeof B.Edit_COMMENT){var t=B.Edit_COMMENT.replace(/[ ]*{meta}(.|\n)*{\/meta}\n/,""),e="\n"===t.substring(t.length-1);B.Edit_COMMENT="".concat(t).concat(e?"":"\n","{meta}\n $hasLedBox = '").concat(B.meta_hasLedBox,"'\n $duplicatedRelays = '").concat(B.meta_duplicatedRelays,"'\n $earthFaultThreshold = '").concat(B.meta_earthFaultThreshold,"'\n $shutdownThermostat = '").concat(B.meta_shutdownThermostat,"'\n $forcedFloatInput = '").concat(B.meta_forcedFloatInput,"'\n $highrateInput = '").concat(B.meta_highrateInput,"'\n $commissioningInput = '").concat(B.meta_commissioningInput,"'\n $alarmAcknowledgmentInput = '").concat(B.meta_alarmAcknowledgmentInput,"'\n $displayAmbientTemperature = '").concat(B.meta_displayAmbientTemperature,"'\n $displayBatteryTemperature = '").concat(B.meta_displayBatteryTemperature,"'\n $extendedLocalMenu = '").concat(B.meta_extendedLocalMenu,"'\n $communicationType = '").concat(B.meta_communicationType,"'\n{/meta}\n")}}var tt=[];function et(t){return["Note","SetupType","P0Type"].some((function(e){return"float"===k[t][e].toLowerCase()}))?"float":["Note","SetupType"].some((function(e){return["boolean","byte","word","dword"].some((function(a){return k[t][e].toLowerCase()===a}))}))?"integer":"non-numeric"}function at(){Z();var t="<Projet>\r\n";return tt.forEach((function(e){t+="  <Objet>\r\n",t+="    <Label>".concat(e,"</Label>\r\n");var a=B[e];if(e.startsWith("Check_")&&(a="true"===a?"1":"0"),"Edit_TFB_TEMPS"===e||"Edit_TEOTDFL_TEMPS"===e)try{var r=Math.round(parseFloat(a,10)/60);a=r.toString()}catch(l){}if("float"===et(e)){if(a=parseFloat(a),isNaN(a))a="0.0";else{var n=1e5;a=(Math.round(a*n)/n).toString()}var i=a.match(/\s*(\d*)\.(\d*)\s*/);null!==i&&(""===i[1]&&(i[1]="0"),""===i[2]&&(i[2]="0"),a="".concat(i[1],",").concat(i[2]))}a=a.replace(/\n/g,"\r\n"),t+="    <Donnee>".concat(a,"</Donnee>\r\n"),t+="  </Objet>\r\n"})),t+="</Projet>\r\n",t}function rt(t){var e,a,r,n=t.toString().split("\n"),i=/<Label>(.*)<\/Label>/i,l=/<Donnee>(.*)<\/Donnee>/i,s=/<Donnee>(.*)/i,o=/(.*)<\/Donnee>/i,c=/\s*(\d*),(\d*)\s*/,u=/\s*$/,d=0===tt.length;W(),n.forEach((function(t){var n=t.replace(u,""),m=n.match(i);m&&(e=m[1],d&&tt.push(e),r=!1);var h=n.match(l);if(h){if(a=h[1],"Edit_TFB_TEMPS"===e||"Edit_TEOTDFL_TEMPS"===e)try{var p=60*parseInt(a,10);a=p.toString()}catch(y){}e.startsWith("Check_")&&"true"!==a&&"false"!==a&&(a="1"===a?"true":"false");var f=a.match(c);switch(et(e)){case"float":f&&(a="".concat(f[1],".").concat(f[2]));break;case"integer":f&&(a=Math.round("".concat(f[1],".").concat(f[2])).toString());break}["Note","SetupType","P0Type"].some((function(t){return"float"===k[e][t].toLowerCase()})),B[e]=a}else{var v=n.match(s);if(v)a=v[1],r=!0;else if(r){var b=n.match(o);b?(r=!1,B[e]="".concat(a,"\n").concat(b[1])):a="".concat(a,"\n").concat(n)}}})),J()||Z()}var nt={struct:null,lines:null,error:null,refLines:null};function it(t){try{nt.lines=t.split(/\r?\n/),nt.refLines=t.split(/\r?\n/),nt.struct=Object(d["analyzeAgcFile"])(nt.lines),nt.error=null}catch(e){nt.lines=null,nt.struct=null,nt.error=e}}C.a.get("".concat("/ccu-gcau-1/","/TDSP0APPMap.tsv")).then((function(t){for(var e,a,r=t.data,n=r.split("\n"),i=n[0].replace(/\r$/,"").split("\t"),l=1;l<n.length;l++){a={};for(var s=n[l].replace(/\r$/,"").split("\t"),o=0;o<i.length;o++)a[i[o]]=s[o],"TDSTag"===i[o]&&(e=s[o]);e.length>0&&!1===e.startsWith("x--")&&(k[e]=a)}Y(),Ba(),C.a.get("".concat("/ccu-gcau-1/","/template.tdsa")).then((function(t){rt(t.data)}))})).catch((function(t){document.getElementById("app").innerHTML="panic: cannot initialize app from definition files like TDSP0APPMap.tsv or template.tdsa",console.log(t)}));var lt={English:0,Dutch:1,Spanish:2,Italian:3,Finnish:4,Swedish:5,French:6,German:7,Slovakian:8,USA:9,Norwegian:10,Portuguese:11,"Free 1":12,"Free 2":13};function st(t){B.Option_6_elemnt="false",B.Option_3_elemnt="false",B.Option_2_elemnt="false",B.Option_1_elemnt="true",B.NrOfCells=t,B.Edit_QDB_NDB=t,B.Option_DEF_POST="0"===B.ChrgTimerMode?"1":"0",B.Text_Projet="".concat(X.shortFileName),B.Combo_RN_UDC=B.UdcNom,B.Edit_DC_VMAXDLT=B.HC_UpperLimit,B.Edit_DC_VMINDLT=B.LC_LowerLimit;var e=parseFloat(B.UflPerCell);"true"===B.VoApplEnable?B.Combo_DEF_TDB="VO":A(1.35,e,1.389)?B.Combo_DEF_TDB="Ni CD (SPH)":A(1.39,e,1.4049)?B.Combo_DEF_TDB="Ni CD (SBH-SBM)":A(1.405,e,1.4149)?B.Combo_DEF_TDB="Ni CD (SLM)":A(1.415,e,1.43)?B.Combo_DEF_TDB="Ni CD (SBL)":A(2.2,e,2.249)?B.Combo_DEF_TDB="Open lead acid":A(2.25,e,2.35)?B.Combo_DEF_TDB="Sealed lead acid":B.Combo_DEF_TDB="None",B.Edit_BattName="--",B.Edit_COMMENT="Import from ".concat(X.extension," file type"),B.Edit_ENV_TA="25",B.Edit_ENV_ALT="0","0"===B.BattCapacity&&(B.BattCapacity=I(B.IbattNom,q()).toString())}function ot(){B.BattTestEnable="false",B.AutoTestPeriod="12",B.DischrgPercent="0",B.TestEndVoltage="0",B.EndVoltageAlarm="0"}function ct(t,e){for(var a=new ArrayBuffer(4),r=new Uint8Array(a),n=0;n<4;n++)r[O[n]]=t[e+n];var i=new Float32Array(a);return i[0]}function ut(t){C.a.get("".concat("/ccu-gcau-1/","/template.tdsa")).then((function(e){var a;rt(e.data),B.BattCapacity="0";var r=new Uint8Array(t),n=600===r.length?"P0Offset":"P0V1Offset";for(var i in"P0V1Offset"===n&&ot(),k){var l=k[i],s=/^(?:(.+):(.*))|(?:.*)$/.exec(l.P0Type),o=parseInt(l[n],10);if(null!==s&&o<r.length){var c=s[void 0===s[1]?0:1],u=s[2],d=void 0===s[2]?NaN:parseInt(u,10),m=function(t){return r[t]+256*r[t+1]},h=null,p=void 0;switch(c){case"byte":h=r[o].toString();break;case"bool16":h=m(o)?"true":"false";break;case"word":h=m(o).toString();break;case"word:bf":h=m(o)&1<<d?"true":"false";break;case"dword":p="hm"===u?60*m(o)+m(o+2):m(o)+65536*m(o+2),"h:3600:s"===l.TDSUnitAndScale?p=Math.round(p/3600):"mn:60:s"===l.TDSUnitAndScale&&(p*=60),h=p.toString();break;case"float":h=ct(r,o).toString();break;case"string":h="";for(var f=0;f<d;f++){var v=r[o+f];if(!(v>0))break;h+=String.fromCharCode(v)}break}null!==h&&(":language"===l.TDSUnitAndScale&&(h=$.languages[parseInt(h,10)]),"months:periodicHighRate"===l.TDSUnitAndScale&&(h=$.hrPeriodicTimes[parseInt(h,10)]),B[l.SetupParam]=h,"NrOfCells"===l.SetupParam&&(a=h))}}st(a)}))}function dt(t,e){var a="string"===typeof t.AppType?t.AppType.toLowerCase():null;if(null!==a){if("Boolean"===t.SetupType)return"0"===e?"false":"true";if(a.startsWith("integer")||a.startsWith("float")){var r=1;"integer:s2h"===a&&(r=1/3600);var n=parseFloat(e)*r;return isNaN(n)?e:a.startsWith("integer")?Math.round(n).toString():n.toString()}}return e}function mt(t){switch(t.toLowerCase()){default:return"None";case"1":case"one_month":return"1";case"2":case"six_months":return"6";case"3":case"one_year":return"12"}}function ht(t){switch(t.toLowerCase()){default:return"0";case"direct":case"1":return"1"}}function pt(t){C.a.get("".concat("/ccu-gcau-1/","/template.tdsa")).then((function(e){rt(e.data),B.BattCapacity="0";var a="1",r=t.toString().split("\n"),n=/^\W*(\d+):\W+(.+)\W{2,}(.*)\r?$/;r.forEach((function(t,e){var r=n.exec(t);if(null!==r){var i=r[1],l=r[2].trimRight(),s=r[3];for(var o in k)if(k[o].AppNum===i){var c=k[o];switch(l.toLowerCase()){case"language":B.Language=$.languages[lt[s]];break;case"periodichr":B.PeriodicHr=mt(s);break;case"chrgtimermode":B.ChrgTimerMode=ht(s);break;case"nrofcells":a=s;default:B[c.SetupParam.startsWith("x--")?c.TDSTag:c.SetupParam]=dt(c,s);break}break}}})),st(a)}))}var ft={created:function(){var t=this.reactOnNewData.bind(this);B.$watchers[this.dataKey].push(t);var e=P[this.dataKey];void 0!==e&&B.$watchers[e].push(t),this.reactOnNewData(B[this.dataKey])},beforeDestroy:function(){var t=this.reactOnNewData.bind(this),e=B.$watchers[this.dataKey];x(t,e);var a=P[this.dataKey];if(void 0!==a){var r=B.$watchers[a];x(t,r)}}},vt={created:function(){var t=this.updateMiscStuff.bind(this);this.reactSources().forEach((function(e){B.$watchers[e].push(t);var a=P[e];void 0!==a&&B.$watchers[a].push(t)})),this.updateMiscStuff()},beforeDestroy:function(){var t=this.updateMiscStuff.bind(this);this.reactSources().forEach((function(e){x(t,B.$watchers[e]);var a=P[e];void 0!==a&&x(t,B.$watchers[a])}))}},bt={methods:{defaultOnChanged:function(t){U.dataChanged(t)}}},yt={props:{dataKey:{type:String,required:!0},label:String,hint:String,onChanged:{type:Function}},data:function(){return{editedValue:void 0}},methods:{changed:function(){var t={dataKey:this.dataKey,value:this.editedValue};"function"===typeof this.onChanged?this.onChanged(t):this.defaultOnChanged(t)},reactOnNewData:function(t){this.editedValue=t}},mixins:[ft,bt]},Ct=yt,_t=a("2877"),gt=a("6544"),Nt=a.n(gt),Lt=a("a844"),xt=Object(_t["a"])(Ct,v,b,!1,null,"4700036a",null),St=xt.exports;Nt()(xt,{VTextarea:Lt["a"]});var Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-text-field",{attrs:{label:t.label,box:"",suffix:t.suffix,error:t.error,"error-messages":t.errorMessages,hint:t.hint,counter:t.maxLength,maxLength:t.maxLength,mask:t.mask},on:{change:t.changed,input:t.input},model:{value:t.editedValue,callback:function(e){t.editedValue=e},expression:"editedValue"}})},wt=[],Dt={props:{dataKey:{type:String,required:!0},filter:Function,maxChars:[Number,String],mask:String,label:String,suffix:String,hint:String,onChanged:{type:Function}},data:function(){return{editedValue:void 0,lastCorrectValue:void 0,initialValue:void 0,error:!1,errorMessages:[]}},computed:{maxLength:function(){if(!isNaN(this.maxChars)){var t=Math.round(Number(this.maxChars));return t>0?t:void 0}},test:function(){return"function"===typeof this.filter?this.filter:function(){return!1}}},methods:{input:function(){var t=this.test(this.editedValue);!1===t?(this.lastCorrectValue=this.editedValue,this.error=!1,this.errorMessages=[]):(this.error=!0,this.errorMessages=[t.errorMessage])},changed:function(){var t=this.editedValue,e=this.test(t);!1!==e&&("undefined"!==typeof e.filteredValue?t=e.filteredValue:"undefined"!==typeof this.lastCorrectValue&&(t=this.initialValue),this.editedValue=t,this.input());var a={dataKey:this.dataKey,value:t};"function"===typeof this.onChanged?this.onChanged(a):this.defaultOnChanged(a)},reactOnNewData:function(t){this.initialValue=t,this.editedValue=t}},mixins:[ft,bt]},Et=Dt,Ft=a("2677"),Vt=Object(_t["a"])(Et,Tt,wt,!1,null,"0984e623",null),Ot=Vt.exports;Nt()(Vt,{VTextField:Ft["a"]});var At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-switch",{attrs:{label:t.label,box:"",hint:t.hint,color:t.colorWhenOn},on:{change:t.changed},model:{value:t.editedValue,callback:function(e){t.editedValue=e},expression:"editedValue"}})},Mt=[],It={props:{dataKey:{type:String,required:!0},labels:{type:Array,required:!0,default:function(){return["off","on"]}},hint:String,colorWhenOn:String,onChanged:{type:Function}},data:function(){return{editedValue:void 0,externalType:"boolean"}},computed:{label:function(){return this.labels[this.editedValue?1:0]},typedValue:function(){var t=this.editedValue;switch(this.externalType){case"number":return t?1:0;case"stringLiteral":return t?"true":"false";case"stringNumeric":return t?"1":"0";default:case"boolean":return t}}},methods:{changed:function(){var t={dataKey:this.dataKey,value:this.typedValue};"function"===typeof this.onChanged?this.onChanged(t):this.defaultOnChanged(t)},reactOnNewData:function(t){switch(Object(L["a"])(t)){case"number":this.editedValue=0!==t,this.externalType="number";break;case"string":this.editedValue=-1===["false","0"].indexOf(t.toLowerCase()),this.externalType=isNaN(t)?"stringLiteral":"stringNumeric";break;case"boolean":this.editedValue=t,this.externalType="boolean";break;default:this.editedValue=!1;break}}},mixins:[ft,bt]},Rt=It,kt=a("b73d"),Pt=Object(_t["a"])(Rt,At,Mt,!1,null,"3d216c73",null),Ht=Pt.exports;Nt()(Pt,{VSwitch:kt["a"]});var Bt={props:{tdsFileName:String,contentsAltered:Boolean},components:{VywTextArea:St,VywTextInput:Ot,VywSwitch:Ht}},jt=Bt,Ut=a("b0af"),$t=a("99d9"),Kt=a("a523"),Yt=a("0e8f"),Gt=a("132d"),Wt=a("a722"),Xt=Object(_t["a"])(jt,p,f,!1,null,"10edc60d",null),qt=Xt.exports;Nt()(Xt,{VCard:Ut["a"],VCardText:$t["b"],VContainer:Kt["a"],VFlex:Yt["a"],VIcon:Gt["a"],VLayout:Wt["a"]});var zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{attrs:{"pt-3":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","px-1":"","align-content-center":""}},[a("v-card",{staticClass:"mt-1"},[a("v-card-title",{staticClass:"headline"},[t._v("Environment")]),a("v-card-text",[a("div",{staticClass:"d-flex"},[a("div",[a("vyw-numeric-input",{attrs:{"data-key":"Edit_ENV_TA",label:"Ambient temperature",suffix:"C",bottom:Number(-30),top:Number(60),hint:"[-30~+60]"}})],1),a("div",[a("vyw-numeric-input",{attrs:{"data-key":"Edit_ENV_ALT",label:"Altitude",suffix:"m",bottom:Number(0),top:Number(5e3),hint:"[0~5,000]"}})],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-numeric-input",{attrs:{"data-key":"Label_Derating_temp",label:"Temperature derating",suffix:"%",bottom:Number(0),top:Number(50),hint:"[0~50]"}})],1),a("div",[a("vyw-numeric-input",{attrs:{"data-key":"Label_Derating_ALT",label:"Altitude derating",suffix:"%",bottom:Number(0),top:Number(50),hint:"[0~50]"}})],1)])])],1),a("v-card",{staticClass:"mt-1"},[a("v-card-title",{staticClass:"headline"},[t._v("Communications")]),a("v-card-text",[a("div",{staticClass:"d-flex"},[a("div",[a("vyw-integer-input",{attrs:{"data-key":"SlaveAddress",label:"Slave number",bottom:Number(1),top:Number(255),hint:"[1~255]"}})],1),a("div",[a("vyw-select-input",{attrs:{"data-key":"Baudrate",label:"Velocity (bps, ignored)","item-list":t.baudrates,hint:"bauds"}})],1)])])],1),a("v-card",{staticClass:"mt-1"},[a("v-card-title",{staticClass:"headline"},[t._v("Language")]),a("v-card-text",[a("div",{staticClass:"d-flex justify-center"},[a("div",{staticClass:"half"},[a("vyw-select-input",{attrs:{"data-key":"Language",label:"Language","item-list":t.selectChoices.languages,hint:"local language"}})],1)])])],1),a("v-card",{staticClass:"mt-1"},[a("v-card-title",{staticClass:"headline"},[t._v("Nominal settings")]),a("v-card-text",[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"pr-1"},[a("vyw-select-input",{attrs:{"data-key":"Combo_RN_NDP",label:"Number of phases","item-list":["1","3"],hint:"phase(s)"}})],1),a("div",[a("vyw-select-input",{attrs:{"data-key":"Combo_RN_FREQ",label:"Frequency (Hz)","item-list":["50","60"],hint:"Hz"}})],1)]),a("div",{staticClass:"d-flex"},[a("div",{staticClass:"pr-1"},[a("vyw-integer-input",{attrs:{"data-key":"UacNom",label:"AC voltage",bottom:Number(1),top:Number(700),hint:"[1~700]",suffix:"Vac"}})],1),a("div",[a("vyw-integer-input",{attrs:{"data-key":"IdcNom",label:"DC current",bottom:Number(1),top:Number(9999),hint:"[1~9,999]",suffix:"Adc"}})],1)]),a("div",{staticClass:"d-flex"},[a("div",{staticClass:"pr-1"},[a("vyw-select-input",{attrs:{"data-key":"Combo_RN_UDC",label:"DC voltage","item-list":t.dcVoltages,hint:"Vdc"}})],1),a("div",[a("vyw-numeric-input",{attrs:{"data-key":"Edit_RN_CN",label:"AC inrush current",suffix:"A",bottom:Number(0),top:Number(9999),hint:"[0~9,999]"}})],1)])])],1),a("v-card",{staticClass:"mt-1"},[a("v-card-title",{staticClass:"headline"},[t._v("Shunt")]),a("v-card-text",[a("div",{staticClass:"d-flex justify-center"},[a("div",{staticClass:"half"},[a("vyw-numeric-input",{attrs:{"data-key":"RectShuntVal",label:"Rectifier shunt (@ 100 mV)",suffix:"A",bottom:Number(.5),top:Number(9999),hint:"[0.5~9,999]"}})],1)])])],1)],1),a("v-flex",{attrs:{xs12:"",sm6:"","px-1":"","align-content-center":""}},[a("v-card",[a("v-card-title",{staticClass:"headline blue lighten-4"},[t._v("Hardware configuration")]),a("v-card-text",[a("div",{staticClass:"d-flex"},[a("div",[a("vyw-switch",{attrs:{"data-key":"meta_hasLedBox",labels:["No LED box","LED box"]}})],1),a("div",[a("vyw-switch",{attrs:{"data-key":"meta_duplicatedRelays",labels:["Relays not duplicated","Relays duplicated"]}})],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-numeric-input",{attrs:{"data-key":"meta_earthFaultThreshold",label:"Earth fault threshold",suffix:"Ω/V",bottom:Number(20),top:Number(2e3),hint:"20~2,000"}})],1),a("div",[a("vyw-switch",{attrs:{"data-key":"meta_shutdownThermostat",labels:["No shutdown bridge thermostat (X9.6)","Shutdown bridge thermostat (X9.6)"]}})],1)]),a("div",{staticClass:"d-flex"},[a("div",{staticClass:"pr-1"},[a("vyw-select-input",{attrs:{"data-key":"meta_forcedFloatInput",label:"Forced float (X9.1)","item-list":t.selectChoices.spareInputs}})],1),a("div",[a("vyw-select-input",{attrs:{"data-key":"meta_highrateInput",label:"Highrate (X9.2)","item-list":t.selectChoices.spareInputs}})],1)]),a("div",{staticClass:"d-flex"},[a("div",{staticClass:"pr-1"},[a("vyw-select-input",{attrs:{"data-key":"meta_commissioningInput",label:"Commissioning (X9.3)","item-list":t.selectChoices.commissioningInput}})],1),a("div",[a("vyw-select-input",{attrs:{"data-key":"meta_alarmAcknowledgmentInput",label:"Alarm ack. (X9.4)","item-list":t.selectChoices.spareInputs}})],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-switch",{attrs:{"data-key":"meta_displayAmbientTemperature",labels:["Don't display ambiant temperature on LCD","Display ambiant temperature on LCD"]}})],1),a("div",[a("vyw-switch",{attrs:{"data-key":"meta_displayBatteryTemperature",labels:["Don't display battery temperature on LCD","Display battery temperature on LCD"]}})],1)]),a("div",{staticClass:"d-flex"},[a("div",{staticClass:"pr-1"},[a("vyw-select-input",{attrs:{"data-key":"meta_extendedLocalMenu",label:"Local menus","item-list":t.selectChoices.extendedLocalMenu}})],1),a("div",[a("vyw-select-input",{attrs:{"data-key":"meta_communicationType",label:"Communications","item-list":t.selectChoices.communicationType}})],1)])])],1),a("v-card",{staticClass:"mt-1"},[a("v-card-title",{staticClass:"headline"},[t._v("Meter selection")]),a("v-card-text",[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"oneThird"},[a("vyw-switch",{attrs:{"data-key":"AcMeter",labels:["No AC meter","AC meter present"]}})],1),a("div",{staticClass:"oneThird"},[a("vyw-switch",{attrs:{"data-key":"LoadVoltMeter",labels:["No VLoad meter","VLoad meter present"]}})],1),a("div",{staticClass:"oneThird"},[a("vyw-switch",{attrs:{"data-key":"AhMeterDisplay",labels:["No Ah meter","Ah meter present"]}})],1)])])],1),a("v-card",{staticClass:"mt-1",class:{grey:t.adjustDisabled,"lighten-3":t.adjustDisabled}},[a("v-card-title",{staticClass:"headline"},[t._v("Adjust")]),a("v-card-text",[a("div",{staticClass:"d-flex"},[a("div",[a("vyw-switch",{attrs:{"data-key":"ManCurrAdjust",labels:["Variable current off","Variable current on"]}})],1),a("div",[a("vyw-switch",{attrs:{"data-key":"ManVoltAdjust",labels:["Variable voltage off","Variable voltage on"]}})],1)]),a("div",{staticClass:"d-flex"},[a("div",{staticClass:"oneThird"}),a("div",{staticClass:"oneThird"},[a("vyw-numeric-input",{attrs:{"data-key":"VoltAdjustMin",label:"Min voltage",suffix:"V",bottom:Number(0),top:Number(650),hint:"[0~650]"}})],1),a("div",{staticClass:"oneThird"},[a("vyw-numeric-input",{attrs:{"data-key":"VoltAdjustMax",label:"Max voltage",suffix:"V",bottom:Number(0),top:Number(650),hint:"[0~650]"}})],1)])])],1),a("v-card",{staticClass:"mt-1"},[a("v-card-title",{staticClass:"headline"},[t._v("Rectifier off")]),a("v-card-text",[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"oneThird"},[a("vyw-switch",{attrs:{"data-key":"RfShtdnEnable",labels:["Not on rectifier failure","On rectifier failure"]}})],1),a("div",{staticClass:"oneThird"},[a("vyw-switch",{attrs:{"data-key":"MfShtdnEnable",labels:["Not on mains failure","On mains failure"]}})],1),a("div",{staticClass:"oneThird"},[a("vyw-switch",{attrs:{"data-key":"HvShtdnEnable",labels:["Not on high DC voltage","On high DC voltage"]}})],1)])])],1),a("v-card",{staticClass:"mt-1"},[a("v-card-title",{staticClass:"headline"},[t._v("Customer information")]),a("v-card-text",[a("div",{staticClass:"d-flex"},[a("div",[a("vyw-numeric-input",{attrs:{"data-key":"Edit_DC_VMINDLT",label:"Low voltage limit",suffix:"V",bottom:Number(0),top:Number(999)}})],1),a("div",[a("vyw-numeric-input",{attrs:{"data-key":"Edit_DC_VMAXDLT",label:"High voltage limit",suffix:"V",bottom:Number(0),top:Number(999)}})],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-numeric-input",{attrs:{"data-key":"Edit_DC_CURA",label:"Current when mains off",suffix:"A",bottom:Number(0),top:Number(1e3)}})],1),a("div",[a("vyw-numeric-input",{attrs:{"data-key":"Edit_DC_CURP",label:"Current when mains on",suffix:"A",bottom:Number(0),top:Number(1e3)}})],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-numeric-input",{attrs:{"data-key":"Edit_DC_PDC",label:"Peak current",suffix:"A",bottom:Number(0)}})],1),a("div",[a("vyw-numeric-input",{attrs:{"data-key":"Edit_DC_DDLPDC",label:"Duration of peak current",suffix:"s",bottom:Number(0)}})],1)])])],1)],1)],1)],1)],1)},Qt=[],Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-text-field",{staticClass:"mw",attrs:{label:t.label,box:"",light:"",suffix:t.suffix,error:t.error,"error-messages":t.errorMessages,hint:t.hint},on:{change:t.changed,input:t.input},model:{value:t.editedValue,callback:function(e){t.editedValue=e},expression:"editedValue"}})},Zt=[],te={props:{dataKey:{type:String,required:!0},scale:{type:Number,default:1},bottom:[Number,String],top:[Number,String],maxPrecision:{type:Number,default:5},label:String,suffix:String,hint:String,onChanged:{type:Function}},data:function(){return{editedValue:void 0,initialValue:void 0,isNumber:!1,error:!1,errorMessages:[]}},computed:{min:function(){return isNaN(this.bottom)?void 0:Number(this.bottom)},max:function(){return isNaN(this.top)?void 0:Number(this.top)}},methods:{test:function(){var t=Number(this.editedValue);return isNaN(t)?{msg:"Not a number!",def:this.initialValue}:void 0!==this.min&&t<this.min?{msg:"Too small (minimum: ".concat(this.min,")!"),def:this.min}:void 0!==this.max&&t>this.max?{msg:"Too large (maximum: ".concat(this.max,")!"),def:this.max}:(this.initialValue=t,!1)},applyPrecision:function(t){var e=Math.round(Number(this.maxPrecision));return!isNaN(e)&&e>0?Number(t.toPrecision(this.maxPrecision)):t},input:function(){var t=this.test();!1===t?(this.error=!1,this.errorMessages=[]):(this.error=!0,this.errorMessages=[t.msg])},changed:function(){var t=this.test(),e=Number(this.editedValue);!1!==t&&(e=t.def),this.editedValue=e,this.input();var a=this.applyPrecision(e/this.scale),r={dataKey:this.dataKey,value:this.isNumber?a:a.toString()};"function"===typeof this.onChanged?this.onChanged(r):this.defaultOnChanged(r)},reactOnNewData:function(t){var e=t;this.isNumber="number"===typeof e,e=isNaN(t)?0:this.applyPrecision(Number(t)*this.scale),this.initialValue=e,this.editedValue=e}},mounted:function(){if(this.scale<=0)throw this.$destroy(),this.$el.parentNode.removeChild(this.$el),"unsupported scale: ".concat(this.scale)},mixins:[ft,bt]},ee=te,ae=(a("4cde"),Object(_t["a"])(ee,Jt,Zt,!1,null,"bad6b2c6",null)),re=ae.exports;Nt()(ae,{VTextField:Ft["a"]});var ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-text-field",{staticClass:"mw",attrs:{label:t.label,box:"",suffix:t.suffix,error:t.error,"error-messages":t.errorMessages,hint:t.hint,"append-icon":t.stepperIcon},on:{change:t.changed,input:t.input,"click:append":t.stepperIconClicked},model:{value:t.editedValue,callback:function(e){t.editedValue=e},expression:"editedValue"}})},ie=[],le={props:{dataKey:{type:String,required:!0},scale:{type:Number,default:function(){return 1}},bottom:[Number,String],top:[Number,String],stepper:{type:Object,validator:function(t){return"undefined"===typeof t||"number"===typeof t.up&&"number"===typeof t.down}},label:String,suffix:String,hint:String,onChanged:{type:Function}},data:function(){return{editedValue:void 0,initialValue:void 0,isNumber:!1,error:!1,errorMessages:[]}},computed:{min:function(){return isNaN(this.bottom)?void 0:this.numToInt(Number(this.bottom))},max:function(){return isNaN(this.top)?void 0:this.numToInt(Number(this.top))},stepperInc:function(){var t=this.stepper?this.stepper.up:void 0;if(void 0!==Object(L["a"])(t)&&!isNaN(t)){var e=Math.floor(Number(t));return e>0?e:void 0}},stepperDec:function(){var t=this.stepper?this.stepper.down:void 0;if(void 0!==Object(L["a"])(t)&&!isNaN(t)){var e=Math.floor(Number(t));return e>0?e:void 0}},stepperIcon:function(){return this.stepperInc&&this.stepperDec?"unfold_more":void 0}},methods:{test:function(){var t=Number(this.editedValue);return isNaN(t)?{msg:"Not a number!",def:this.initialValue}:!1===this.isAnInt(Number(t))?{msg:"Only integer values!",def:this.numToInt(Number(t))}:void 0!==this.min&&Number(t)<this.min?{msg:"Too small (minimum: ".concat(this.min,")!"),def:this.min}:void 0!==this.max&&Number(t)>this.max?{msg:"Too large (maximum: ".concat(this.max,")!"),def:this.max}:(this.initialValue=t,!1)},input:function(){var t=this.test();!1===t?(this.error=!1,this.errorMessages=[]):(this.error=!0,this.errorMessages=[t.msg])},changed:function(){var t=this.test(),e=this.editedValue;!1!==t&&(e=t.def),this.editedValue=e,this.input();var a=e;(this.scale>=1.5||this.scale<=2/3)&&(a=Math.round(a*this.scale));var r={dataKey:this.dataKey,value:this.isNumber?a:a.toString()};"function"===typeof this.onChanged?this.onChanged(r):this.defaultOnChanged(r)},numToInt:function(t){return isNaN(t)?NaN:Math.round(t)},isAnInt:function(t){return!1===isNaN(t)&&Math.floor(t)===t},cropDown:function(t){return"number"===typeof this.min?Math.max(this.min,t):t},cropUp:function(t){return"number"===typeof this.max?Math.min(this.max,t):t},stepperIconClicked:function(t){var e=Number(this.editedValue);isNaN(e)||(t.offsetY>t.target.offsetHeight/2?e=this.cropDown(e-this.stepperDec):(e+=this.stepperInc,this.stepper.roundUp&&(e=Math.floor(e/this.stepperInc)*this.stepperInc),e=this.cropUp(e)),this.editedValue!==e&&(this.editedValue=e,this.changed()))},reactOnNewData:function(t){var e=t;this.isNumber="number"===typeof e,isNaN(t)?e="0":(e=Math.round(Number(t).toString()),(this.scale>=1.5||this.scale<=2/3)&&(e=Math.round(e/this.scale))),this.initialValue=e,this.editedValue=e}},mixins:[ft,bt],mounted:function(){if(this.scale<=0)throw this.$destroy(),this.$el.parentNode.removeChild(this.$el),"unsupported scale: ".concat(this.scale)}},se=le,oe=(a("eff0"),Object(_t["a"])(se,ne,ie,!1,null,"29f8263a",null)),ce=oe.exports;Nt()(oe,{VTextField:Ft["a"]});var ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-select",{attrs:{label:t.label,items:t.itemList,box:"",hint:t.hint},on:{change:t.changed},model:{value:t.editedValue,callback:function(e){t.editedValue=e},expression:"editedValue"}})},de=[],me={props:{dataKey:{type:String,required:!0},itemList:{type:Array,required:!0,validator:function(t){return t.every((function(t){return"string"===typeof t}))}},label:String,hint:String,onChanged:{type:Function}},data:function(){return{editedValue:void 0}},computed:{index:function(){return this.itemList instanceof Array?this.itemList.indexOf(this.editedValue):-1}},methods:{changed:function(){var t={dataKey:this.dataKey,value:this.editedValue,index:this.index};"function"===typeof this.onChanged?this.onChanged(t):this.defaultOnChanged(t)},reactOnNewData:function(t){if(this.itemList instanceof Array)if(this.editedValue=this.itemList[0],"number"===typeof t){var e=Math.round(t),a=Math.max(0,Math.min(e,this.itemList.length-1));this.editedValue=this.itemList[a]}else"string"===typeof t&&this.itemList.indexOf(t)>=0&&(this.editedValue=t)}},mixins:[ft,bt]},he=me,pe=a("b56d"),fe=Object(_t["a"])(he,ue,de,!1,null,"93ff5a0e",null),ve=fe.exports;Nt()(fe,{VSelect:pe["a"]});var be={components:{VywNumericInput:re,VywIntegerInput:ce,VywSelectInput:ve,VywSwitch:Ht},data:function(){return{selectChoices:$,adjustDisabled:!1}},computed:{baudrates:function(){return["1200","2400","4800","9600","19200"]},acVoltages:function(){return["110","120","127","208","220","230","240","380","400"]},dcCurrents:function(){return["5","10","15","25","35","50","75","100"]},dcVoltages:function(){return["12","24","48","60","110","125","220"]}},methods:{updateMiscStuff:function(t,e,a){this.adjustDisabled="false"===B.ManCurrAdjust&&"false"===B.ManVoltAdjust,"Edit_ENV_ALT"===a&&(t=parseFloat(t),t>5e3&&(t=5e3),t=t>=1e3&&t<=5e3?.007*(t-1e3)+7:0,t=Math.round(10*t)/10,B.Label_Derating_ALT=t.toString()),"Edit_ENV_TA"===a&&(t=parseFloat(t),t>60&&(t=60),t=t>=40?1.25*(t-40):0,t=Math.round(10*t)/10,B.Label_Derating_temp=t.toString())},reactSources:function(){return["ManCurrAdjust","ManVoltAdjust","Edit_ENV_ALT","Edit_ENV_TA"]}},mixins:[vt]},ye=be,Ce=(a("2d1b"),a("12b2")),_e=Object(_t["a"])(ye,zt,Qt,!1,null,"7a311618",null),ge=_e.exports;Nt()(_e,{VCard:Ut["a"],VCardText:$t["b"],VCardTitle:Ce["a"],VContainer:Kt["a"],VFlex:Yt["a"],VLayout:Wt["a"]});var Ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"pt-3":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","px-1":"","align-content-center":""}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Cell arrangement")]),a("v-card-text",[a("vyw-radios",{attrs:{dataKeysAndLabels:t.elementRadioDefs}}),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-integer-input",{attrs:{"data-key":"Edit_QDB_NDB",label:"Number of blocks",bottom:Number(1),top:Number(1e3),hint:"Nb of cells = number of bloks x nb cell(s) per block"}})],1),a("div",{staticClass:"align-self-center"},[t._v(" Number of cells: "),a("vyw-read-only-text",{attrs:{"data-key":"NrOfCells"}})],1)])],1)],1),a("v-card",{staticClass:"py-1 px-2 mt-1"},[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"pr-2 half"},[a("vyw-default-select",{attrs:{"data-key":"Combo_DEF_TDB",label:"Battery type","item-list":t.batteryTypes}})],1),a("div",[a("vyw-text-input",{attrs:{"data-key":"Edit_BattName",label:"Battery name",maxChars:Number(16)}})],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-numeric-input",{attrs:{"data-key":"BattCapacity",label:"Battery capacity",suffix:"Ah",bottom:Number(0),top:Number(9999)}})],1),a("div",[a("vyw-numeric-input",{attrs:{"data-key":"Edit_DEF_CDCC",label:"Short circuit current",suffix:"kA"}})],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-numeric-input",{attrs:{"data-key":"UflPerCell",label:"Floating charge voltage per cell",suffix:"V/cell",bottom:Number(0),top:Number(24),hint:"[0~24]"}})],1),a("div",{staticClass:"align-self-center"},[t._v(" Total: "),a("vyw-read-only-text",{attrs:{"data-key":"Label_DEF_TDFLPETOT2"}}),t._v(" V ")],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-numeric-input",{attrs:{"data-key":"IbattNom",label:"Current limit",suffix:"A",bottom:Number(1),top:Number(9999),hint:"[1~9,999]"}})],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-switch",{attrs:{"data-key":"TempComp",labels:["No","Yes"]}})],1),a("div",[a("vyw-numeric-input",{attrs:{"data-key":"CompPerC",label:"Temperature compensation",bottom:Number(0),top:Number(.6),suffix:"%/C"}})],1),a("div",[a("div",[a("vyw-read-only-text",{attrs:{"data-key":"Edit_DEF_CET"}}),t._v(" mV/C/Cell ")],1),a("div",[t._v(t._s(t.vPerC)+" mV/C")])])]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-switch",{attrs:{"data-key":"BattShunt",labels:["No battery shunt","Has battery shunt"]}})],1),a("div",[a("vyw-numeric-input",{attrs:{"data-key":"BattShuntVal",label:"Shunt value @ 100 mV",suffix:"A",bottom:Number(.5),top:Number(9999),hint:"[0.5~9999]"}})],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-numeric-input",{attrs:{"data-key":"Edit_DEF_TDFDDPE",label:"Discharge end voltage / cell",bottom:Number(0),top:Number(1e3),suffix:"V"}})],1),a("div",{staticClass:"align-self-center"},[t._v(" Total: "),a("vyw-read-only-text",{attrs:{"data-key":"Label_DEF_TDFDDTOT2"}}),t._v(" V ")],1)])]),a("v-card",{staticClass:"mt-1",class:{grey:t.voDisabled,"lighten-3":t.voDisabled}},[a("v-card-title",{staticClass:"headline"},[t._v("VO settings")]),a("v-card-text",[a("div",{staticClass:"d-flex"},[a("div",[a("vyw-numeric-input",{attrs:{"data-key":"DTmin",label:"ΔΘ min",suffix:"C",bottom:Number(0),top:Number(20)}})],1),a("div",[a("vyw-numeric-input",{attrs:{"data-key":"DTmax",label:"ΔΘ max",suffix:"C",bottom:Number(0),top:Number(20)}})],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-numeric-input",{attrs:{"data-key":"IbattLow",label:"Current limit",suffix:"A",bottom:Number(1),top:Number(9999)}})],1),a("div",[a("vyw-numeric-input",{attrs:{"data-key":"VoChargeTime",label:"Extra time",suffix:"h",bottom:Number(0),top:Number(20)}})],1)])])],1)],1),a("v-flex",{attrs:{xs12:"",sm6:"","px-1":"","align-content-center":""}},[a("v-card",{class:{grey:t.highrateDisabled,"lighten-3":t.highrateDisabled}},[a("v-card-title",{staticClass:"headline"},[t._v("Highrate")]),a("v-card-text",[a("div",{staticClass:"d-flex"},[a("div",[a("vyw-numeric-input",{attrs:{"data-key":"UhrPerCell",label:"Highrate charge voltage / cell",suffix:"V/cell",bottom:Number(0),top:Number(24)}})],1),a("div",{staticClass:"align-self-center"},[t._v(" Total: "),a("vyw-read-only-text",{attrs:{"data-key":"Label_DEF_TDEPETOT2"}}),t._v(" V ")],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-radios",{attrs:{dataKeysAndLabels:t.hrModeRadioDefs}})],1),a("div",[a("vyw-default-select",{attrs:{"data-key":"HrRelayOutput",label:"Relay number","item-list":t.relayNumbers,hint:"0: no relay"}})],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-switch",{attrs:{"data-key":"ManHrEnable",labels:["Manual start disabled","Manual start enabled"]}})],1),a("div",[a("vyw-default-select",{attrs:{"data-key":"PeriodicHr","item-list":t.hrPeriodicTimes,label:"Periodic time (months)"}})],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-switch",{attrs:{"data-key":"ClHrEnable",labels:["No start on current limit","Starts on current limit"]}})],1),a("div",[a("vyw-integer-input",{attrs:{"data-key":"ClHrTime",label:"Delay",suffix:"s",bottom:Number(0),top:Number(255)}})],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-switch",{attrs:{"data-key":"MfHrEnable",labels:["No start on mains failure","Starts on mains failure"]}})],1),a("div",[a("vyw-integer-input",{attrs:{"data-key":"MfHrTime",label:"Delay",suffix:"s",bottom:Number(0),top:Number(255)}})],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-numeric-input",{attrs:{"data-key":"ChargeTime",label:"Charge time",suffix:"h",bottom:Number(0),top:Number(99)}})],1),a("div",[a("vyw-numeric-input",{attrs:{"data-key":"BattFanDelay",label:"Fan delay",suffix:"h",bottom:Number(0),top:Number(24)}})],1)])])],1),a("v-card",{staticClass:"mt-1",class:{grey:t.commissioningDisabled,"lighten-3":t.commissioningDisabled}},[a("v-card-title",{staticClass:"headline"},[t._v("Commissioning")]),a("v-card-text",[a("div",{staticClass:"d-flex"},[a("div",[a("vyw-switch",{attrs:{"data-key":"CommEnable",labels:["Commissioning disabled","Commissioning enabled"]}})],1),a("div",[a("vyw-default-select",{attrs:{"data-key":"CommRelayOutput",label:"Relay number","item-list":t.relayNumbers,hint:"0: no relay"}})],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-numeric-input",{attrs:{"data-key":"UcommPerCell",label:"Commissioning charge voltage / cell",suffix:"V/cell",bottom:Number(0),top:Number(24)}})],1),a("div",{staticClass:"align-self-center"},[t._v(" Total: "),a("vyw-read-only-text",{attrs:{"data-key":"Label_DEF_TDFOTOT2"}}),t._v(" V ")],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-numeric-input",{attrs:{"data-key":"CommCurrent",label:"Commiss. charge current",suffix:"A",bottom:Number(1),top:Number(9999)}})],1),a("div",[a("vyw-numeric-input",{attrs:{"data-key":"CommTime",label:"Commiss. charge time",suffix:"h",bottom:Number(0),top:Number(24)}})],1)])])],1),a("v-card",{staticClass:"mt-1",class:{grey:t.battTestDisabled,"lighten-3":t.battTestDisabled}},[a("v-card-title",{staticClass:"headline"},[t._v("Battery test")]),a("v-card-text",[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"one-third"},[a("vyw-switch",{attrs:{"data-key":"BattTestEnable",labels:["Disabled","Enabled"]}})],1),a("div",{staticClass:"px-1"},[a("vyw-default-select",{attrs:{"data-key":"AutoTestPeriod",itemList:t.months,label:"Period (months)"}})],1),a("div",{staticClass:"one-third"},[a("vyw-numeric-input",{attrs:{"data-key":"DischrgPercent",label:"Discharge",suffix:"%",bottom:Number(0),top:Number(30)}})],1)]),a("div",{staticClass:"d-flex"},[a("div",[a("vyw-numeric-input",{attrs:{"data-key":"TestEndVoltage",label:"Test end voltage",suffix:"V",bottom:Number(0),top:Number(650)}})],1),a("div",[a("vyw-numeric-input",{attrs:{"data-key":"EndVoltageAlarm",label:"Discharge end voltage alarm",suffix:"V",bottom:Number(0),top:Number(650)}})],1)])])],1)],1)],1)],1)},Le=[],xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-radio-group",{attrs:{mandatory:!0,column:!1},on:{change:t.changed},model:{value:t.editedValue,callback:function(e){t.editedValue=e},expression:"editedValue"}},t._l(t.dataKeysAndLabels,(function(e){return a("v-radio",{key:e.key,attrs:{label:e.label,value:e.key,color:t.colorWhenOn}})})),1)},Se=[],Te={props:{dataKeysAndLabels:{type:Array,required:!0},hint:String,colorWhenOn:String,onChanged:{type:Function}},data:function(){return{editedValue:void 0,externalType:"boolean"}},methods:{typedValue:function(t){switch(this.externalType){case"number":return t?1:0;case"stringLiteral":return t?"true":"false";case"stringNumeric":return t?"1":"0";default:return t}},changed:function(){var t=this,e="function"===typeof this.onChanged?this.onChanged:this.defaultOnChanged;this.dataKeysAndLabels.forEach((function(a){var r=a.key;e({dataKey:r,value:t.typedValue(r===t.editedValue)})}))},reactOnNewData:function(t,e,a){switch(Object(L["a"])(t)){case"number":if(0===t)return;this.externalType="number";break;case"string":if("false"===t.toLowerCase()||"0"===t)return;this.externalType=isNaN(t)?"stringLiteral":"stringNumeric";break;case"boolean":if(!1===t)return;this.externalType="boolean";break;default:return}for(var r=0;r<this.dataKeysAndLabels.length;r++){var n=this.dataKeysAndLabels[r].key;if(n===a||P[n]===a||n===P[a]){this.editedValue=n;break}}}},created:function(){for(var t=this.reactOnNewData.bind(this),e=0;e<this.dataKeysAndLabels.length;e++){var a=this.dataKeysAndLabels[e].key,r=void 0===P[a]?a:P[a];B.$watchers[a].push(t),r!==a&&B.$watchers[r].push(t),this.reactOnNewData(B[this.dataKeysAndLabels[e].key])}},beforeDestroy:function(){for(var t=this.reactOnNewData.bind(this),e=0;e<this.dataKeysAndLabels.length;e++){var a=this.dataKeysAndLabels[e].key,r=void 0===P[a]?a:P[a];x(t,B.$watchers[a]),r!==a&&x(t,B.$watchers[r])}},mixins:[bt]},we=Te,De=a("67b6"),Ee=a("43a6"),Fe=Object(_t["a"])(we,xe,Se,!1,null,"404ead38",null),Ve=Fe.exports;Nt()(Fe,{VRadio:De["a"],VRadioGroup:Ee["a"]});var Oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[t._v(t._s(t.displayedValue))])},Ae=[],Me={props:{dataKey:{type:String,required:!0}},data:function(){return{displayedValue:void 0}},methods:{reactOnNewData:function(t){this.displayedValue=t}},mixins:[ft]},Ie=Me,Re=Object(_t["a"])(Ie,Oe,Ae,!1,null,"848cefac",null),ke=Re.exports,Pe={data:function(){return{vPerC:null,voDisabled:!1,highrateDisabled:!1,commissioningDisabled:!1,battTestDisabled:!1}},components:{VywRadios:Ve,VywIntegerInput:ce,VywNumericInput:re,VywReadOnlyText:ke,VywDefaultSelect:ve,VywSwitch:Ht,VywTextInput:Ot},computed:{hrPeriodicTimes:function(){return $.hrPeriodicTimes},relayNumbers:function(){return $.relayNumbers},months:function(){return Object(N["a"])(Array(12)).map((function(t,e){return(e+1).toString()}))},elementRadioDefs:function(){return[{key:"Option_1_elemt",label:"1 cell / block"},{key:"Option_2_elemt",label:"2 cells / block"},{key:"Option_3_elemt",label:"3 cells / block"},{key:"Option_6_elemt",label:"6 cells / block"}]},hrModeRadioDefs:function(){return[{key:"ChrgTimerMode",label:"Direct"},{key:"Option_DEF_POST",label:"Post"}]},batteryTypes:function(){return["None","VO","Ni CD (SBH-SBM)","Ni CD (SBL)","Ni CD (SPH)","Ni CD (SLM)","Sealed lead acid","Open lead acid"]}},methods:{updateMiscStuff:function(t,e,a){var r=1;if("1"===B.Option_2_elemt?r=2:"1"===B.Option_3_elemt?r=3:"1"===B.Option_6_elemt&&(r=6),"Combo_DEF_TDB"===a){var n="VO"===t?"true":"false",i=n;"false"===i&&(i=B.TempComp),B.meta_displayAmbientTemperature=i,B.meta_displayBatteryTemperature=n}var l=Number(B.Edit_QDB_NDB)*r;B.NrOfCells=l.toString(),B["Label_DEF_TDFLPETOT2"]=S(Number(B.UflPerCell)*l,4),B["Label_DEF_TDFDDTOT2"]=S(Number(B["Edit_DEF_TDFDDPE"])*l,4),B["Label_DEF_TDFOTOT2"]=S(Number(B.UcommPerCell)*l,4),B["Label_DEF_TDEPETOT2"]=S(Number(B.UhrPerCell)*l,4),B["Edit_DEF_CET"]=S(Number(B.CompPerC)*Number(B.UflPerCell),4),this.vPerC=S(Number(B.CompPerC)*Number(B.UflPerCell)*l,4),t!==e&&("VoApplEnable"===a||"Frame_OPBV"===a?"true"===t?B["Combo_DEF_TDB"]="VO":"VO"===B["Combo_DEF_TDB"]&&(B["Combo_DEF_TDB"]="None"):"Combo_DEF_TDB"===a&&(B.VoApplEnable="VO"===t?"true":"false")),this.voDisabled="false"===B.VoApplEnable,this.voDisabled&&"Check_DEF_CET"===a&&(B.meta_displayAmbientTemperature=t),this.highrateDisabled="false"===B.ManHrEnable&&"None"===B.PeriodicHr&&"false"===B.ClHrEnable&&"false"===B.MfHrEnable,this.commissioningDisabled="false"===B.CommEnable,this.battTestDisabled="false"===B.BattTestEnable},reactSources:function(){return["Option_2_elemt","Option_3_elemt","Option_6_elemt","Edit_QDB_NDB","UflPerCell","Edit_DEF_TDFDDPE","UcommPerCell","UhrPerCell","CompPerC","Combo_DEF_TDB","VoApplEnable","ManHrEnable","PeriodicHr","ClHrEnable","MfHrEnable","CommEnable","BattTestEnable","TempComp"]}},mixins:[vt]},He=Pe,Be=(a("3a5f"),Object(_t["a"])(He,Ne,Le,!1,null,"6e066fa0",null)),je=Be.exports;Nt()(Be,{VCard:Ut["a"],VCardText:$t["b"],VCardTitle:Ce["a"],VContainer:Kt["a"],VFlex:Yt["a"],VLayout:Wt["a"]});var Ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{attrs:{"pa-0":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-layout",{attrs:{column:""}},[a("v-flex",{attrs:{"pa-0":""}},[a("vyw-alarm",{attrs:{title:t.alarmMF.title,params:t.alarmMF.params}}),a("vyw-alarm",{attrs:{title:t.alarmHC.title,params:t.alarmHC.params}}),a("vyw-alarm",{attrs:{title:t.alarmLC.title,params:t.alarmLC.params}}),a("vyw-alarm",{attrs:{title:t.alarmHD.title,params:t.alarmHD.params}}),a("vyw-alarm",{attrs:{title:t.alarmLD.title,params:t.alarmLD.params}}),a("vyw-alarm",{attrs:{title:t.alarmRF.title,params:t.alarmRF.params}}),a("vyw-alarm",{attrs:{title:t.alarmEFP.title,params:t.alarmEFP.params}}),a("vyw-alarm",{attrs:{title:t.alarmEFM.title,params:t.alarmEFM.params}})],1)],1)],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-layout",[a("v-flex",[a("vyw-alarm",{attrs:{title:t.alarmS1.title,params:t.alarmS1.params}}),a("vyw-alarm",{attrs:{title:t.alarmS2.title,params:t.alarmS2.params}}),a("vyw-alarm",{attrs:{title:t.alarmS3.title,params:t.alarmS3.params}}),a("vyw-alarm",{attrs:{title:t.alarmS4.title,params:t.alarmS4.params}}),a("vyw-alarm",{attrs:{title:t.alarmHT.title,params:t.alarmHT.params}}),a("vyw-alarm",{attrs:{title:t.alarmHB.title,params:t.alarmHB.params}}),a("vyw-alarm",{attrs:{title:t.alarmHR.title,params:t.alarmHR.params}}),a("vyw-alarm",{attrs:{title:t.alarmCM.title,params:t.alarmCM.params,isCommonAlarm:!1}})],1)],1)],1)],1)],1)],1)},$e=[],Ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"ma-1"},[a("div",{staticClass:"d-flex justify-space-around"},[a("div",{staticClass:"pa-1"},[a("vyw-switch",{attrs:{colorWhenOn:"success","data-key":t.params.enabledId,labels:t.enableLabels}})],1),t.hp("delayId")?a("div",{staticClass:"pa-1",staticStyle:{"margin-left":"25%","max-width":"40%"}},[a("vyw-integer-input",{attrs:{"data-key":t.params.delayId,stepper:{down:1,up:10,roundUp:!0},bottom:0,label:"Delay",suffix:"s",hint:"positive integer value"}})],1):t._e()]),a("div",{staticClass:"d-flex"},[t.hp("relayNbId")?a("div",{staticClass:"pa-1"},[a("vyw-default-select",{attrs:{"data-key":t.params.relayNbId,label:"Relay number","item-list":t.selectChoices.relayNumbers,hint:"0: no relay"}})],1):t._e(),t.hp("latch.displayId")?a("div",{staticClass:"pa-1"},[a("vyw-switch",{attrs:{"data-key":t.params.latch.displayId,labels:["Display latch: OFF","Display latch: ON"]}})],1):t._e(),t.hp("latch.relayId")?a("div",{staticClass:"pa-1"},[a("vyw-switch",{attrs:{"data-key":t.params.latch.relayId,labels:["Relay latch: OFF","Relay latch: ON"]}})],1):t._e()]),t.hp("th1.id")?a("div",{staticClass:"d-flex pa-1"},[a("div",{staticClass:"pa-1"},[a("vyw-numeric-input",{attrs:{"data-key":t.params.th1.id,scale:void 0===t.params.th1.scale?void 0:Number(t.params.th1.scale),bottom:t.params.th1.min,top:t.params.th1.max,label:t.params.th1.title,suffix:t.params.th1.unit,hint:t.params.th1.hint}})],1),t.hp("th2.id")?a("div",{staticClass:"pa-1"},[a("vyw-numeric-input",{attrs:{"data-key":t.params.th2.id,scale:void 0===t.params.th2.scale?void 0:Number(t.params.th2.scale),bottom:t.params.th2.min,top:t.params.th2.max,label:t.params.th2.title,suffix:t.params.th2.unit,hint:t.params.th2.hint}})],1):t._e()]):t._e(),t.hp("text")?a("div",{staticClass:"d-flex pa-1"},[a("div",{staticClass:"pa-1"},[a("vyw-text-input",{attrs:{"data-key":t.params.text,label:"Text",hint:"16 characters, maximum",maxChars:"16"}})],1)]):t._e()])},Ye=[],Ge={name:"vyw-alarm",props:{title:String,params:Object,isCommonAlarm:Boolean},data:function(){return{selectChoices:$}},methods:{hp:function(t){var e=t.split("."),a=e.reduce((function(t,e){return void 0!==t&&(t=t[e]),t}),this.params);return void 0!==a}},computed:{enableLabels:function(){return["".concat(this.title," OFF"),"".concat(this.title," ON")]}},components:{VywTextInput:Ot,VywIntegerInput:ce,VywNumericInput:re,VywSwitch:Ht,VywDefaultSelect:ve}},We=Ge,Xe=Object(_t["a"])(We,Ke,Ye,!1,null,"52d6432a",null),qe=Xe.exports;Nt()(Xe,{VCard:Ut["a"]});var ze={components:{VywAlarm:qe},computed:{alarmMF:function(){return{title:"Mains out-of-range",params:{enabledId:"MF_Enabled",relayNbId:"MF_RelayOutput",delayId:"MF_Delay",latch:{displayId:"MF_LcdLatch",relayId:"MF_RelayLatch"},th1:{id:"MF_LowerLimit",title:"Min voltage",unit:"Vac",hint:"threshold",min:90,max:900},th2:{id:"MF_UpperLimit",title:"Max voltage",unit:"Vac",hint:"threshold",min:90,max:900}}}},alarmHC:function(){return{title:"High charger voltage",params:{enabledId:"HC_Enabled",relayNbId:"HC_RelayOutput",delayId:"HC_Delay",latch:{displayId:"HC_LcdLatch",relayId:"HC_RelayLatch"},th1:{id:"HC_LowerLimit",title:"Floating",unit:"Vdc",hint:"threshold",min:"16",max:"900"},th2:{id:"HC_UpperLimit",title:"Highrate",unit:"Vdc",hint:"threshold",min:"16",max:"900"}}}},alarmLC:function(){return{title:"Low charger voltage",params:{enabledId:"LC_Enabled",relayNbId:"LC_RelayOutput",delayId:"LC_Delay",latch:{displayId:"LC_LcdLatch",relayId:"LC_RelayLatch"},th1:{id:"LC_LowerLimit",title:"Low level",unit:"Vdc",hint:"threshold",min:"16",max:"900"}}}},alarmHD:function(){return{title:"High DC load voltage",params:{enabledId:"HD_Enabled",relayNbId:"HD_RelayOutput",delayId:"HD_Delay",latch:{displayId:"HD_LcdLatch",relayId:"HD_RelayLatch"},th1:{id:"HD_UpperLimit",title:"High level",unit:"Vdc",hint:"threshold",min:"16",max:"900"}}}},alarmLD:function(){return{title:"Low DC load voltage",params:{enabledId:"LD_Enabled",relayNbId:"LD_RelayOutput",delayId:"LD_Delay",latch:{displayId:"LD_LcdLatch",relayId:"LD_RelayLatch"},th1:{id:"LD_LowerLimit",title:"Low level",unit:"Vdc",hint:"threshold",min:"16",max:"900"}}}},alarmRF:function(){return{title:"Rectifier failure",params:{enabledId:"RF_Enabled",relayNbId:"RF_RelayOutput",delayId:"RF_Delay",latch:{displayId:"RF_LcdLatch",relayId:"RF_RelayLatch"}}}},alarmEFP:function(){return{title:"Earth fault plus (+)",params:{enabledId:"EFP_Enabled",relayNbId:"EFP_RelayOutput",delayId:"EFP_Delay",latch:{displayId:"EFP_LcdLatch",relayId:"EFP_RelayLatch"}}}},alarmEFM:function(){return{title:"Earth fault minus (-)",params:{enabledId:"EFM_Enabled",relayNbId:"EFM_RelayOutput",delayId:"EFM_Delay",latch:{displayId:"EFM_LcdLatch",relayId:"EFM_RelayLatch"}}}},alarmS1:function(){return{title:"Spare 1 (X8.1)",params:{enabledId:"S1_Enabled",relayNbId:"S1_RelayOutput",delayId:"S1_Delay",latch:{displayId:"S1_LcdLatch",relayId:"S1_RelayLatch"},text:"S1_Text"}}},alarmS2:function(){return{title:"Spare 2 (X8.2)",params:{enabledId:"S2_Enabled",relayNbId:"S2_RelayOutput",delayId:"S2_Delay",latch:{displayId:"S2_LcdLatch",relayId:"S2_RelayLatch"},text:"S2_Text"}}},alarmS3:function(){return{title:"Spare 3 (X8.3)",params:{enabledId:"S3_Enabled",relayNbId:"S3_RelayOutput",delayId:"S3_Delay",latch:{displayId:"S3_LcdLatch",relayId:"S3_RelayLatch"},text:"S3_Text"}}},alarmS4:function(){return{title:"Spare 4 (X8.4)",params:{enabledId:"S4_Enabled",relayNbId:"S4_RelayOutput",delayId:"S4_Delay",latch:{displayId:"S4_LcdLatch",relayId:"S4_RelayLatch"},text:"S4_Text"}}},alarmHT:function(){return{title:"High temperature (X9.5)",params:{enabledId:"HT_Enabled",relayNbId:"HT_RelayOutput",delayId:"HT_Delay",latch:{displayId:"HT_LcdLatch",relayId:"HT_RelayLatch"}}}},alarmHB:function(){return{title:"High battery current",params:{enabledId:"HB_Enabled",relayNbId:"HB_RelayOutput",delayId:"HB_Delay",latch:{displayId:"HB_LcdLatch",relayId:"HB_RelayLatch"},th1:{id:"HB_UpperLimit",title:"High level",unit:"Amps",hint:"threshold",min:"0",max:"1000"}}}},alarmHR:function(){return{title:"High rectifier current",params:{enabledId:"HR_Enabled",relayNbId:"HR_RelayOutput",delayId:"HR_Delay",latch:{displayId:"HR_LcdLatch",relayId:"HR_RelayLatch"},th1:{id:"HR_UpperLimit",title:"High level",unit:"Amps",hint:"threshold",min:"0",max:"1000"}}}},alarmCM:function(){return{title:"Common alarm",params:{enabledId:"CM_Enabled",latch:{relayId:"CM_RelayLatch"}}}}}},Qe=ze,Je=Object(_t["a"])(Qe,Ue,$e,!1,null,"03f72636",null),Ze=Je.exports;Nt()(Je,{VContainer:Kt["a"],VFlex:Yt["a"],VLayout:Wt["a"]});var ta=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-content",[a("v-layout",{attrs:{"justify-center":""}},[a("v-flex",{attrs:{xs12:"",md8:"","pt-3":""}},[a("v-card",[a("v-container",{attrs:{"pb-0":""}},[a("v-layout",{attrs:{"justify-center":""}},[a("v-flex",{attrs:{"pt-2":""}},[a("v-chip",{attrs:{color:"red","text-color":"white"}},[t._v("Test")])],1),a("v-flex",{attrs:{xs4:"",sm4:"","px-1":""}},[a("vyw-select-input",{attrs:{"data-key":"meta_testKey",label:"data key","item-list":t.dataKeys}})],1),a("v-flex",{attrs:{xs4:""}},[a("vyw-text-input",{attrs:{"data-key":"meta_testValue",label:"data value"}})],1),a("v-flex",{attrs:{"px-1":""}},[a("v-btn",{on:{click:t.applyTest}},[t._v("Apply")])],1),a("v-flex",{attrs:{"px-1":""}},[a("v-btn",{on:{click:t.testTranslation}},[t._v("Test Translation")])],1)],1)],1)],1)],1)],1)],1)},ea=[],aa=a("ade3");function ra(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function na(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ra(Object(a),!0).forEach((function(e){Object(aa["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ra(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var ia=!1,la="production",sa={languages:{English:{upload:"French",nominal:"E"},Dutch:{upload:"Dutch",nominal:"L"},Spanish:{upload:"Spanish",nominal:"L"},Italian:{upload:"Italian",nominal:"L"},Finnish:{upload:"French",nominal:"E"},Swedish:{upload:"Swedish",nominal:"L"},French:{upload:"French",nominal:"L"},German:{upload:"German",nominal:"L"},Slovakian:{upload:"French",nominal:"E"},USA:{upload:"French",nominal:"E"},Norwegian:{upload:"French",nominal:"E"},"Portuguese CCU_N":{upload:"Portuguese",nominal:"L"},"Free1 CCU_N":{upload:"French",nominal:"E"},"Free2 CCU_N":{upload:"French",nominal:"E"}},batteryType:{None:"0",VO:"3","Ni CD (SBH-SBM)":"2","Ni CD (SBL)":"2","Ni CD (SPH)":"2","Ni CD (SLM)":"2","Sealed lead acid":"0","Open lead acid":"1"}};function oa(t,e,a){var r=Object(d["findInAgcFileStruct"])({object:t,attribute:e},nt.struct);if(null===r)return console.log("cannot locate ".concat(t,".").concat(e," in GCAUConfigurationData of agcFileData!")),null;var n=r.value;if(void 0!==a&&null!==a){r.value=a;var i="".concat(t,".").concat(r.readOnly?"!":"").concat(e,' = "').concat(a,'"');nt.lines[r.line-1]=i,"development"===la&&ia&&console.log(i)}return n}function ca(t,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object(d["findInAgcFileStruct"])({metaTag:t},nt.struct);if(null===r)return console.log("cannot locate $".concat(t," in GCAUConfigurationData of agcFileData!")),null;var n=r[0],i=r[r.length-1];if(void 0!==e&&null!==e){var l,s=e.split("\n").map((function(e){var a="$".concat(t,' = "').concat(e,'"');return"development"===la&&ia&&console.log(a),a}));if(a)(l=nt.lines).splice.apply(l,[i.line,0].concat(Object(N["a"])(s))),nt.struct=Object(d["analyzeAgcFile"])(nt.lines);else n.value=e,nt.lines[n.line-1]=s[0]}return r}function ua(t){return void 0===t&&console.log("Failure in call to function zeroOne!"),"true"===t.toLowerCase()?"1":"0"}function da(t,e,a,r){var n=oa(e,a),i="true"===t;oa(e,a,D(i,r,n))}var ma=[],ha=[];function pa(t,e,a){if(void 0===a&&(a=["RelayNumber","NumberOfRelays","LedNumber"]),"string"===typeof e&&(e=parseInt(e,10)),e<1||e>16)return oa(t,a[0],"0"),oa(t,a[1],"1"),void oa(t,a[2],"0");var r="true"===B.meta_hasLedBox?e:0;e>8&&(e=0),"true"===B.meta_duplicatedRelays&&e>1&&(e=2*e-1),oa(t,a[0],e.toString()),e>0?(oa(t,a[1],"true"===B.meta_duplicatedRelays?"2":"1"),E(e,ma),"true"===B.meta_duplicatedRelays&&E(e+1,ma)):oa(t,a[1],"1"),r>0&&E(r,ha),oa(t,a[2],r.toString())}function fa(t,e){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r="EVT_".concat(t);for(var n in void 0===e.Function&&(e.Function="OF"),void 0===e.LCDLatch&&(e.LCDLatch="0"),void 0===e.RelayLatch&&(e.RelayLatch="0"),void 0===e.Shutdown&&(e.Shutdown="0"),void 0===e.CommonAlarm&&(e.CommonAlarm="0"),void 0===e.RelayNumber&&(e.RelayNumber="0"),e)("Text"!==n&&"LocalText"!==n||"OF"!==e.Function||!a)&&("RelayNumber"===n?pa(r,"OF"===e.Function&&a?"0":e[n]):oa(r,n,e[n]));a&&da("OF"===e.Function?"false":"true","SYSVAR","EventEnable",t-1)}function va(){if(ia=!1,ma=[],ha=[],null!==nt.struct){if(ca("ProjectName",B.Text_Nom),ca("Origin",B.Text_Origine),ca("Quotation",B.Text_Devis),ca("Customer",B.Text_Client),ca("Approved",ua(B.Check_APP)),ca("ApproveName",B.Edit_CONTROL),ca("Order",B.Text_Commande),ca("Project",B.Text_Projet),ca("EndUser",B.Text_ClientFinal),ca("IDNum",B.SystemId),ca("VInterfCard","1"),0!=parseFloat(B.UacNom)){var t=parseFloat(B.Label_DEF_TDFLPETOT2)*parseFloat(B.IdcNom)/.8/.8/parseFloat(B.UacNom);t=Math.round(10*t)/10,ca("InputCurrent",t.toString())}var e=!1,a=ca("Notes");1===a.length&&0===a[0].value.trim().length&&(e=!0),ca("Notes","Translated from a CCU configuration",!e),B.Edit_COMMENT.split("\n").forEach((function(t){ca("Notes",t,!0)})),ca("AmbTemp",(Math.round(10*B.Edit_ENV_TA)/10).toString()),ca("MaxAltitude",Math.round(B.Edit_ENV_ALT).toString()),ca("DerateTemp",(-parseFloat(B.Label_Derating_temp)).toString()),ca("DerateAltitude",(-parseFloat(B.Label_Derating_ALT)).toString()),ca("Lang2Ctrl",sa.languages[B.Language].upload),oa("NOMINAL","Language",sa.languages[B.Language].nominal),oa("REGISTRY","LocalLanguage",sa.languages[B.Language].upload),B.meta_extendedLocalMenu!==$.extendedLocalMenu[0]&&(oa("SYSVAR","MenuGroupEnable","293F"),oa("SYSVAR","BatteryMenuEnable","001F"),oa("SYSVAR","NominalSetMenuEnable","0067"),oa("SYSVAR","MeterMenuEnable","3F"),oa("SYSVAR","HighrateMenuEnable","11FF"),oa("SYSVAR","CommissionMenuEnable","001F"),oa("SYSVAR","ManualAdjustMenuEnable","0F"),oa("SYSVAR","VOApplicationMenuEnable","7F"),oa("SYSVAR","BattTestMenuEnable","027FF"),oa("SYSVAR","CompensationMenuEnable","0F"),oa("SYSVAR","PasswordMenuEnable","03"),oa("SYSVAR","SuperUserMenus","7FFF")),da("false","SYSVAR","MenuGroupEnable",9),oa("SYSVAR","MeterEnable","02");for(var r=1;r<=32;r++)switch(r){case 23:fa(r,{Function:"AL"});break;case 24:fa(r,{Function:"AL",LCDLatch:"1"});break;case 30:fa(r,{Function:"AL",Delay:"20"});break;default:fa(r,{Function:"OF"});break}ca("Frequency",B.Combo_RN_FREQ),ca("InrushCurrent",B.Edit_RN_CN);var n=.1/parseFloat(B.RectShuntVal);oa("SYSTEM","ChargerShunt",Math.round(1e6*n).toString()),oa("SYSTEM","RectShuntVolt","100");var i="3"===B.Combo_RN_NDP?"TPRe":"SPRe";oa("PID","Mode","3"===B.Combo_RN_NDP?"TS":"SS");var l=B.Combo_RN_UDC,s=B.IdcNom;oa("NOMINAL","ChargerCurrent",T(s,10)),oa("SYSTEM","VoltageInRange",l),oa("SYSTEM","MaxCurrent",T(s,10));var o=1.4*parseFloat(s)*parseFloat(l);oa("SYSTEM","MaxPower",T(.1*o)),oa("NOMINAL","OutputPower",T(.1*o)),ca("CstmChgName","".concat(l,"V ").concat(i," ").concat(s,"A")),oa("HIGHVOLT","ExternalDividers",parseInt(l,10)>=200?"1":"0"),oa("HIGHVOLT","UNomDivider","200"),oa("HIGHVOLT","UProtDivider","200"),oa("HIGHVOLT","EFAlpha","1453"),oa("HIGHVOLT","EFBeta","1219"),oa("HIGHVOLT","EFGamma","884"),oa("HIGHVOLT","EFR3","0"),oa("HIGHVOLT","VLvdDivider","200"),oa("NOMINAL","ACVolts",T(B.UacNom,10)),da(B.AcMeter,"SYSVAR","MeterEnable",0),da(B.AhMeterDisplay,"SYSVAR","MeterEnable",2),oa("MANADJ","ManualCurrentAdjustment",ua(B.ManCurrAdjust)),oa("MANADJ","ManualVoltageAdjustment",ua(B.ManVoltAdjust)),oa("MANADJ","LowerLimit",T(B.VoltAdjustMin,10)),oa("MANADJ","UpperLimit",T(B.VoltAdjustMax,10)),ca("VLowLimit",B.Edit_DC_VMINDLT),ca("VHighLimit",B.Edit_DC_VMAXDLT),ca("IPeak",B.Edit_DC_PDC),ca("IPeakDur",B.Edit_DC_DDLPDC),ca("ILoadMOff",B.Edit_DC_CURA),ca("ILoadMOn",B.Edit_DC_CURP),oa("BATTSEL","BatteryType",sa.batteryType[B.Combo_DEF_TDB]);var c="VO"===B.Combo_DEF_TDB;ca("BattSubType",B.Combo_DEF_TDB),ca("BatteryName",B.Edit_BattName);var u=parseInt(B.NrOfCells,10);oa("BATTSEL","NumberOfElements",B.NrOfCells),oa("BATTSEL","SymmProbePosition",T(B.NrOfCells,.5)),ca("BattnBCells",B.NrOfCells);var d=parseFloat(B.BattCapacity);oa("BATTSEL","Capacity",B.BattCapacity),ca("ShortCircuitCurrent",B.Edit_DEF_CDCC),oa("NOMINAL","FloatVolts",T(B.UflPerCell,10*u)),oa("REGCOMP","TemperatureCompensation","true"===B.TempComp?T(B.CompPerC,100):"0"),oa("SYSTEM","TempCompOnBattSens","0"),da(B.meta_displayAmbientTemperature,"SYSVAR","MeterEnable",3),da(B.meta_displayBatteryTemperature,"SYSVAR","MeterEnable",4);var m="true"===B.BattShunt?.1/parseFloat(B.BattShuntVal):0;oa("SYSTEM","BatteryShunt",Math.floor(1e6*m).toString()),oa("SYSTEM","BattShuntVolt","100"),oa("SYSTEM","InRevPol","0000"),oa("NOMINAL","BatteryCurrent",T(B.IbattNom,10));var h=parseFloat(B.UhrPerCell);if((isNaN(h)||h<=0)&&(h=parseFloat(B.UflPerCell)),oa("NOMINAL","HighrateVolts",T(h,10*u)),oa("HIGHRATE","TimerMode","1"===B.ChrgTimerMode?"D":"P"),oa("HIGHRATE","ManualHighrate",ua(B.ManHrEnable)),oa("HIGHRATE","Periodic","None"===B.PeriodicHr?"0":B.PeriodicHr),pa("HIGHRATE",B.HrRelayOutput,["RelayNb","NumberOfRelays","LedNb"]),oa("HIGHRATE","OnCurrentLimit","true"===B.ClHrEnable?B.ClHrTime:"0"),oa("HIGHRATE","OnMainsFail","true"===B.MfHrEnable?B.MfHrTime:"0"),oa("HIGHRATE","OnAhDrop","0"),oa("HIGHRATE","Timer",T(B.ChargeTime,60)),oa("BATTSEL","FanDelay",T(B.BattFanDelay,60)),pa("BATTSEL",B.HrRelayOutput,["FanRelayNb","FanNumberOfRelays","FanLedNb"]),oa("VOAPPL","AmbTempTimeConstant","480"),oa("VOAPPL","AhMinDetection","0"),oa("VOAPPL","dTMin",T(B.DTmin)),oa("VOAPPL","dTMax",T(B.DTmax)),oa("VOAPPL","BattCurrentDetection",T(B.IbattLow,10)),oa("VOAPPL","Timer",T(B.VoChargeTime,60)),oa("VOAPPL","AhMinDetection","0"),c){var p=parseFloat(B.IbattNom);B.meta_extendedLocalMenu!==$.extendedLocalMenu[0]&&da("true","SYSVAR","MenuGroupEnable",6);var f=3*(d/p+parseFloat(B.VoChargeTime));f>36&&(f=36),oa("VOAPPL","SecurityTimer",(60*f).toString()),ca("Notes","Warning: VO security timer arbitrary set at ".concat(f," hour").concat(1!==f?"s":"","! Okay with this?"),!0)}oa("COMMISS","Manual","true"===B.CommEnable?"1":"0"),pa("COMMISS",B.CommRelayOutput,["RelayNb","NumberOfRelays","LedNb"]);var v=parseFloat(B.UcommPerCell);(isNaN(v)||v<=0)&&(v=parseFloat(B.UflPerCell)),oa("COMMISS","Voltage",T(v,10*u)),oa("COMMISS","Current",T(B.CommCurrent,10)),oa("COMMISS","Duration",T(B.CommTime,60));var b="true"===B.BattTestEnable;oa("BATTTEST","BatteryTestActive",b?"1":"0"),oa("BATTTEST","Periodic",b?B.AutoTestPeriod:"0"),oa("BATTTEST","DischargeCurrent",T(B.IbattNom,5)),oa("BATTTEST","Percentage",T(B.DischrgPercent)),oa("BATTTEST","EndVoltage",T(B.TestEndVoltage,10)),b&&(B.meta_extendedLocalMenu!==$.extendedLocalMenu[0]&&da("true","SYSVAR","MenuGroupEnable",7),ca("Notes","Warning: battery test enabled! Behavior from CCU may differ. Review settings & discuss with end user.",!0));var y=ua(B.CM_Enabled),C={LCDLatch:ua(B.MF_LcdLatch),RelayLatch:ua(B.MF_RelayLatch),Shutdown:ua(B.MfShtdnEnable),CommonAlarm:y,RelayNumber:B.MF_RelayOutput,Delay:B.MF_Delay};if("true"===B.MF_Enabled){var _=na(na({},C),{},{Function:"AL"});fa(1,na(na({},_),{},{Value:T(B.MF_UpperLimit,10)})),fa(2,na(na({},_),{},{Value:T(B.MF_LowerLimit,10)}))}else{var g=na(na({},C),{},{Function:"OF"});fa(1,na(na({},g),{},{Value:T(B.MF_UpperLimit,10)})),fa(2,na(na({},g),{},{Value:T(B.MF_LowerLimit,10)}))}var N={LCDLatch:ua(B.HC_LcdLatch),RelayLatch:ua(B.HC_RelayLatch),Shutdown:ua(B.HvShtdnEnable),CommonAlarm:y,RelayNumber:B.HC_RelayOutput,Delay:B.HC_Delay,Value:T(B.HC_LowerLimit,10)};fa(4,na(na({},N),{},{Function:"true"===B.HC_Enabled?"AL":"OF"}));var L={LCDLatch:ua(B.LC_LcdLatch),RelayLatch:ua(B.LC_RelayLatch),Shutdown:"0",CommonAlarm:y,RelayNumber:B.LC_RelayOutput,Delay:B.LC_Delay,Value:T(B.LC_LowerLimit,10)};fa(5,na(na({},L),{},{Function:"true"===B.LC_Enabled?"AL":"OF"}));var x={LCDLatch:ua(B.HD_LcdLatch),RelayLatch:ua(B.HD_RelayLatch),Shutdown:"0",CommonAlarm:y,RelayNumber:B.HD_RelayOutput,Delay:B.HD_Delay,Value:T(B.HD_UpperLimit,10)};fa(6,na(na({},x),{},{Function:"true"===B.HD_Enabled?"AL":"OF"}));var S={LCDLatch:ua(B.LD_LcdLatch),RelayLatch:ua(B.LD_RelayLatch),Shutdown:"0",CommonAlarm:y,RelayNumber:B.LD_RelayOutput,Delay:B.LD_Delay,Value:T(B.LD_LowerLimit,10)};fa(7,na(na({},S),{},{Function:"true"===B.LD_Enabled?"AL":"OF"}));var w={LCDLatch:ua(B.RF_LcdLatch),RelayLatch:ua(B.RF_RelayLatch),Shutdown:ua(B.RfShtdnEnable),CommonAlarm:y,RelayNumber:B.RF_RelayOutput,Delay:B.RF_Delay};fa(3,na(na({},w),{},{Function:"true"===B.RF_Enabled?"AL":"OF"}));var D=T(B.meta_earthFaultThreshold,parseFloat(l)/100),E={LCDLatch:ua(B.EFP_LcdLatch),RelayLatch:ua(B.EFP_RelayLatch),Shutdown:"0",CommonAlarm:y,RelayNumber:B.EFP_RelayOutput,Delay:B.EFP_Delay,Value:D};fa(8,na(na({},E),{},{Function:"true"===B.EFP_Enabled?"AL":"OF"}));var V={LCDLatch:ua(B.EFM_LcdLatch),RelayLatch:ua(B.EFM_RelayLatch),Shutdown:"0",CommonAlarm:y,RelayNumber:B.EFM_RelayOutput,Delay:B.EFM_Delay,Value:D};fa(9,na(na({},V),{},{Function:"true"===B.EFM_Enabled?"AL":"OF"}));var O={LCDLatch:ua(B.S1_LcdLatch),RelayLatch:ua(B.S1_RelayLatch),Shutdown:"0",CommonAlarm:y,RelayNumber:B.S1_RelayOutput,Delay:B.S1_Delay,Value:"0",Text:B.S1_Text,LocalText:B.S1_Text};fa(10,na(na({},O),{},{Function:"true"===B.S1_Enabled?"AL":"OF"}));var A={LCDLatch:ua(B.S2_LcdLatch),RelayLatch:ua(B.S2_RelayLatch),Shutdown:"0",CommonAlarm:y,RelayNumber:B.S2_RelayOutput,Delay:B.S2_Delay,Value:"0",Text:B.S2_Text,LocalText:B.S2_Text};fa(11,na(na({},A),{},{Function:"true"===B.S2_Enabled?"AL":"OF"}));var M={LCDLatch:ua(B.S3_LcdLatch),RelayLatch:ua(B.S3_RelayLatch),Shutdown:"0",CommonAlarm:y,RelayNumber:B.S3_RelayOutput,Delay:B.S3_Delay,Value:"0",Text:B.S3_Text,LocalText:B.S3_Text};fa(12,na(na({},M),{},{Function:"true"===B.S3_Enabled?"AL":"OF"}));var I={LCDLatch:ua(B.S4_LcdLatch),RelayLatch:ua(B.S4_RelayLatch),Shutdown:"0",CommonAlarm:y,RelayNumber:B.S4_RelayOutput,Delay:B.S4_Delay,Value:"0",Text:B.S4_Text,LocalText:B.S4_Text};fa(13,na(na({},I),{},{Function:"true"===B.S4_Enabled?"AL":"OF"}));var R={LCDLatch:ua(B.HT_LcdLatch),RelayLatch:ua(B.HT_RelayLatch),Shutdown:"0",CommonAlarm:y,RelayNumber:B.HT_RelayOutput,Delay:B.HT_Delay};fa(22,na(na({},R),{},{Function:"true"===B.HT_Enabled?"AL":"OF"}));var k={LCDLatch:ua(B.HB_LcdLatch),RelayLatch:ua(B.HB_RelayLatch),Shutdown:"0",CommonAlarm:y,RelayNumber:B.HB_RelayOutput,Delay:B.HB_Delay,Value:T(B.HB_UpperLimit,10)};fa(21,na(na({},k),{},{Function:"true"===B.HB_Enabled?"AL":"OF"}));var P={LCDLatch:ua(B.HR_LcdLatch),RelayLatch:ua(B.HR_RelayLatch),Shutdown:"0",CommonAlarm:y,RelayNumber:B.HR_RelayOutput,Delay:B.HR_Delay,Value:T(B.HR_UpperLimit,10)};switch(fa(20,na(na({},P),{},{Function:"true"===B.HR_Enabled?"AL":"OF"})),oa("COMMISS","AllowedFromSpare","0"),[{cmd:"FF",select:B.meta_forcedFloatInput},{cmd:"HC",select:B.meta_highrateInput},{cmd:"CC",select:B.meta_commissioningInput},{cmd:"AA",select:B.meta_alarmAcknowledgmentInput}].forEach((function(t,e){var a,r=t.cmd,n=t.select,i="INPUT X9.".concat(e+1);"CC"===r?n!==$.commissioningInput[3]&&n!==$.commissioningInput[4]||(r="AL",i="COMMISS.",a=n===$.commissioningInput[4]?"true":"false"):a=n===$.commissioningInput[2]?"true":"false",fa(e+14,{LCDLatch:"0",RelayLatch:"0",Shutdown:"0",CommonAlarm:"0",RelayNumber:"0",Delay:"1",Text:i,LocalText:i,Function:n===$.spareInputs[0]?"OF":r},!1),da(a,"SYSTEM","InRevPol",e+4),da("true","SYSVAR","EventEnable",e+13),"AL"===r&&(da("true","SYSVAR","CommissionMenuEnable",8),oa("COMMISS","AllowedFromSpare","7"))})),oa("SYSTEM","ShutdownInput",ua(B.meta_shutdownThermostat)),B.meta_hasLedBox&&ha.length>0?(ca("Notes","Has one LED box with LEDs: ".concat(F(ha)),!0),ca("NbLEDCards","1")):ca("NbLEDCards","0"),ma.length>0?("true"===B.meta_duplicatedRelays&&ca("Notes","Relays are duplicated (1=>1~2, 2=>3~4,... 8=>15~16)!",!0),ca("NbRelayCards",ma.some((function(t){return t>8}))?"2":"1"),ca("Notes","Used relays: ".concat(F(ma)),!0)):ca("NbRelayCards","0"),da("true","SYSVAR","MenuGroupEnable",11),oa("SYSVAR","CommunicationMenuEnable","17"),oa("COMMUN","SlaveNumber",B.SlaveAddress),B.meta_communicationType){case $.communicationType[0]:da("false","SYSVAR","MenuGroupEnable",11);break;case $.communicationType[1]:oa("COMMUN","Protocol","S"),oa("COMMUN","Baudrate","38400"),oa("COMMUN","Hardware","2"),oa("COMMUN","Format","8N1");break;case $.communicationType[2]:oa("COMMUN","Protocol","RM"),oa("COMMUN","Baudrate","9600"),oa("COMMUN","Hardware","4"),oa("COMMUN","Format","8N1");break;case $.communicationType[3]:oa("COMMUN","Protocol","SAM"),oa("COMMUN","Baudrate","38400"),oa("COMMUN","Hardware","N"),oa("COMMUN","Format","8N1");break}}else console.log("Attempt to call translateCcu2gcau on invalid agcFileData!")}var ba={components:{VywTextInput:Ot,VywSelectInput:ve},data:function(){return{dataKeys:j}},methods:{applyTest:function(){B[B.meta_testKey]=B.meta_testValue,console.log("new value for ".concat(B.meta_testKey,"=> ").concat(B.meta_testValue))},dataKeySelected:function(t){B["meta_testValue"]=B[t]},testTranslation:function(){va()}},created:function(){U.$on("item-should-update",(function(t){B[t.dataKey]!==t.value&&(B[t.dataKey]=t.value),!1===t.dataKey.startsWith("meta_")&&(B["meta_testKey"]=t.dataKey,B["meta_testValue"]=t.value)})),B.$watchers["meta_testKey"].push(this.dataKeySelected.bind(this))},beforeDestroy:function(){x(this.dataKeySelected.bind(this),B.$watchers["meta_testKey"])}},ya=ba,Ca=a("8336"),_a=a("cc20"),ga=a("549c"),Na=Object(_t["a"])(ya,ta,ea,!1,null,"363698e6",null),La=Na.exports;Nt()(Na,{VBtn:Ca["a"],VCard:Ut["a"],VChip:_a["a"],VContainer:Kt["a"],VContent:ga["a"],VFlex:Yt["a"],VLayout:Wt["a"]});var xa={components:{VywAdmin:qt,VywSystem:ge,VywBattery:je,VywAlarms:Ze,VywReactTest:La},data:function(){return{menuItemSelected:void 0,headerHeight:void 0,tabBarHeight:void 0,tabBarInitialLeftOffset:void 0,contentInitialLeftOffset:void 0,tabBarDynamicLeftOffset:void 0,isScrolledDown:!1,tabBarFixed:!1,tdsFileName:"",contentsAltered:!1,agcFileName:null,agcFileErrorDialog:!1,agcErrorDetails:"??",nodeEnv:"production",applicationVersion:R}},methods:{menuItemSelect:function(t){this.menuItemSelected=t},onWindowScroll:function(){var t=document.documentElement.scrollHeight,e=window.innerHeight,a=window.scrollY;this.tabBarFixed=a>this.headerHeight,t-e>this.headerHeight?this.isScrolledDown=a>2:0===a&&(this.isScrolledDown=!1)},updateTabBarPosition:function(){this.tabBarDynamicLeftOffset=this.tabBarInitialLeftOffset+this.$refs["contentFrame"].getBoundingClientRect().left-this.contentInitialLeftOffset},loadTds:function(t){var e=this,a=t.target.files[0];if(a){var r=new FileReader,n=/.P0$/i.test(a.name),i=/.APP$/i.test(a.name);n?r.readAsArrayBuffer(a):r.readAsText(a),r.onload=function(t){var r=t.target.result;e.tdsFileName=a.name,z(a.name),n?ut(r):i?pt(r):rt(r),e.contentsAltered=!1}}},loadAgc:function(t){var e=this,a=t.target.files[0];if(a){var r=new FileReader;r.readAsText(a),r.onload=function(t){var r=t.target.result;it(r),null===nt.lines?(e.agcFileErrorDialog=!0,e.agcFileName=null,nt.error.explicit?e.agcErrorDetails="Error at line ".concat(nt.error.line,": ").concat(nt.error.explicit):e.agcErrorDetails="Unexpected error: ".concat(nt.error)):e.agcFileName=a.name}}},saveOutputFile:function(){var t=z(null),e="true"===B.Check_APP?"_APP.agc":"_NAP.agc",a=t.shortFileName.length?"".concat(t.shortFileName).concat(e):this.agcFileName;va();var r=nt.lines.reduce((function(t,e){return t+"".concat(e,"\r\n")}),"");h()(r,a,"text/plain"),nt.lines=nt.refLines.map((function(t){return t})),nt.struct=Object(d["analyzeAgcFile"])(nt.lines)},saveTdsFile:function(){var t=z(null),e=at(),a=t.shortFileName.length?t.shortFileName:"unknown",r="true"===B.Check_APP?"tdsa":"tdsn";h()(e,"".concat(a,".").concat(r),"text/plain"),this.contentsAltered=!1}},created:function(){var t=this;U.$on("item-should-update",(function(e){var a=void 0===P[e.dataKey]?e.dataKey:P[e.dataKey],r=!1===a.startsWith("meta_");B[a]!==e.value&&(B[a]=e.value,r&&(t.contentsAltered=!0)),r&&(B["meta_testKey"]=e.dataKey,B["meta_testValue"]=e.value)}))},mounted:function(){this.headerHeight=this.$refs["header"].offsetHeight,this.tabBarHeight=this.$refs["tabBar"].offsetHeight,this.tabBarInitialLeftOffset=this.$refs["tabBar"].getBoundingClientRect().left,this.tabBarDynamicLeftOffset=this.tabBarInitialLeftOffset,this.contentInitialLeftOffset=this.$refs["contentFrame"].getBoundingClientRect().left,this.updateTabBarPosition(),window.addEventListener("scroll",this.onWindowScroll),window.addEventListener("resize",this.updateTabBarPosition)},destroyed:function(){window.removeEventListener("scroll",this.onWindowScroll),window.removeEventListener("resize",this.updateTabBarPosition)}},Sa=xa,Ta=(a("cc0c"),a("169a")),wa=a("9910"),Da=a("71a3"),Ea=a("c671"),Fa=a("fe57"),Va=a("71d9"),Oa=a("2a7f"),Aa=Object(_t["a"])(Sa,c,u,!1,null,"68676160",null),Ma=Aa.exports;Nt()(Aa,{VBtn:Ca["a"],VCard:Ut["a"],VCardActions:$t["a"],VCardText:$t["b"],VCardTitle:Ce["a"],VContainer:Kt["a"],VDialog:Ta["a"],VFlex:Yt["a"],VLayout:Wt["a"],VSpacer:wa["a"],VTab:Da["a"],VTabItem:Ea["a"],VTabs:Fa["a"],VToolbar:Va["a"],VToolbarTitle:Oa["a"]});var Ia={name:"App",components:{mainContents:Ma}},Ra=Ia,ka=a("7496"),Pa=Object(_t["a"])(Ra,s,o,!1,null,"9eceb3aa",null),Ha=Pa.exports;function Ba(){new r["a"]({render:function(t){return t(Ha)}}).$mount("#app")}Nt()(Pa,{VApp:ka["a"],VContent:ga["a"]}),r["a"].config.productionTip=!1},"5b20":function(t,e,a){},"95ad":function(t,e,a){},cc0c:function(t,e,a){"use strict";a("4718")},d84f:function(t,e,a){},d937:function(t,e,a){},eff0:function(t,e,a){"use strict";a("d84f")}});